"use strict";(self.webpackChunkgoalpost_primeng=self.webpackChunkgoalpost_primeng||[]).push([[7847],{7847:($t,N,d)=>{d.r(N),d.d(N,{LeagueSiteRoutingModule:()=>qt});var m=d(1430),u=d(6814),e=d(9467),h=d(707),_=d(4532);class j{constructor(a,t){this.plays=a,this.playerGame=t;const n=a.filter(l=>l.passer===this.playerGame.id),o=n.filter(l=>l.completedPass);this.passingAttempts=n.length,this.passingCompletions=o.length,this.passingYardage=o.map(l=>l.yardage).reduce((l,G)=>l+G,0),this.passingTds=o.filter(l=>6===l.points).length,this.passingOnePointConversions=o.filter(l=>1===l.points).length,this.passingTwoPointConversions=o.filter(l=>2===l.points).length,this.passingInterceptions=n.filter(l=>"interception"===l.turnoverType).length;const s=a.filter(l=>l.rusher===this.playerGame.id);this.rushingAttempts=s.length,this.rushingYardage=s.map(l=>l.yardage).reduce((l,G)=>l+G,0),this.rushingTds=s.filter(l=>6===l.points).length,this.rushingOnePointConversions=s.filter(l=>1===l.points).length,this.rushingTwoPointConversions=s.filter(l=>2===l.points).length,this.offensiveFumbles=s.filter(l=>"fumble"===l.turnoverType).length,this.offensiveSacks=s.filter(l=>l.sack).length;const p=a.filter(l=>l.receiver===this.playerGame.id),f=p.filter(l=>l.completedPass);this.receivingTargets=p.length,this.receivingCompletions=f.length,this.receivingYardage=f.map(l=>l.yardage).reduce((l,G)=>l+G,0),this.receivingTds=f.filter(l=>6===l.points).length,this.receivingOnePointConversions=f.filter(l=>1===l.points).length,this.receivingTwoPointConversions=f.filter(l=>2===l.points).length,this.offensiveFumbles+=f.filter(l=>"fumble"===l.turnoverType).length;const b=a.filter(l=>l.flagPuller===this.playerGame.id);this.flagPulls=b.length,this.defensiveSacks=b.filter(l=>l.sack).length;const J=a.filter(l=>l.turnoverPlayer===this.playerGame.id);this.defensiveFumbles=J.filter(l=>"fumble"===l.turnoverType).length,this.defensiveInterceptions=J.filter(l=>"interception"===l.turnoverType).length,this.defensiveTds=J.filter(l=>6===l.points).length,this.defensiveOnePointConversions=J.filter(l=>1===l.points).length,this.defensiveTwoPointConversions=J.filter(l=>2===l.points).length,this.pointsScored=6*(this.rushingTds+this.receivingTds+this.defensiveTds)+2*(this.rushingTwoPointConversions+this.receivingTwoPointConversions+this.defensiveTwoPointConversions)+this.rushingOnePointConversions+this.receivingOnePointConversions+this.defensiveOnePointConversions}}class U{constructor(a,t,n){this.plays=a,this.roster=t,this.teamId=n,this.playerStats=t.map(o=>new j(a,o)),this.score=this.playerStats.map(o=>o.pointsScored).reduce((o,s)=>o+s,0)}}class Q{constructor(a){this.game=a,this.homeTeamStats=new U(a.plays,a.homeRoster,a.homeTeamId),this.awayTeamStats=new U(a.plays,a.awayRoster,a.awayTeamId)}}let M=(()=>{class i{transform(t){return`@ ${t.location} @ ${new Date(t.startTime)}`}static#t=this.\u0275fac=function(n){return new(n||i)};static#i=this.\u0275pipe=e.Yjl({name:"gameinfo",type:i,pure:!0,standalone:!0})}return i})(),P=(()=>{class i{transform(t){return`${t.awayTeamId} @ ${t.homeTeamId}`}static#t=this.\u0275fac=function(n){return new(n||i)};static#i=this.\u0275pipe=e.Yjl({name:"game",type:i,pure:!0,standalone:!0})}return i})();var L,V=d(7328),v=d(7398),c=d(2096),k=d(8180),A=d(4664);let x=(()=>{class i{static#t=this.LeagueStorageKey="league";#i=new V.t(1);#e;constructor(){this.#e=this.#o(),this.#i.next(this.#e),this.watchLeague$().subscribe({next:t=>this.#n(t)})}watchLeague$(){return this.#i.asObservable()}watchTeam$(t){return this.watchLeague$().pipe((0,v.U)(n=>n.teams.find(o=>o.id===t)))}watchPlayer$(t){return this.watchLeague$().pipe((0,v.U)(n=>n.players.find(o=>o.id===t)))}watchGame$(t){return this.watchLeague$().pipe((0,v.U)(n=>n.games.find(o=>o.id===t)))}watchPlays$(t){return this.watchLeague$().pipe((0,v.U)(n=>n.games.find(o=>o.id===t).plays))}watchTeams$(){return this.watchLeague$().pipe((0,v.U)(t=>t.teams))}watchPlayers$(){return this.watchLeague$().pipe((0,v.U)(t=>t.players))}watchGames$(){return this.watchLeague$().pipe((0,v.U)(t=>t.games))}#n(t){localStorage.setItem(L.LeagueStorageKey,JSON.stringify(t))}resetLeague(){this.#e={teams:[{name:"Washington",id:"WASH"},{name:"Oregon",id:"ORE"}],players:[{name:"Michael Penix, Jr.",id:"009"},{name:"Bo Nix",id:"010"}],games:[]},this.#n(this.#e)}#o(){const t=localStorage.getItem(L.LeagueStorageKey);try{if(this.#e=JSON.parse(t),this.#e)return this.#e}catch{}return this.resetLeague(),this.#e}createTeam(t){if(t.id=t.id.trim(),t.name=t.name.trim(),!t.id||!t.name)throw new Error("Team must have ID and name.");if(this.#e.teams.find(n=>n.name===t.name))throw new Error("Team name already exists.");if(this.#e.teams.find(n=>n.id===t.id))throw new Error("Team ID already exists.");return this.#e.teams.push({...t}),this.#i.next(this.#e),(0,c.of)(t)}editTeam(t,n){n.id=n.id.trim(),n.name=n.name.trim();const o=this.#e.teams.find(s=>s.id===t);if(!o)throw new Error("Team being edited does not exist.");if(o.name!=n.name&&this.#e.teams.some(s=>s.name===n.name))throw new Error("Team name already exists.");if(o.id!=n.id&&this.#e.teams.some(s=>s.id===n.id))throw new Error("Team ID already exists.");return o.id=n.id,o.name=n.name,this.#i.next(this.#e),(0,c.of)(o)}deleteTeam(t){return this.#e.teams=this.#e.teams.filter(n=>n.id!=t),this.#i.next(this.#e),(0,c.of)(!0)}createPlayer(t){if(t.id=t.id.trim(),t.name=t.name.trim(),!t.id||!t.name)throw new Error("Player must have ID and name.");if(this.#e.players.find(n=>n.name===t.name))throw new Error("Player name already exists.");if(this.#e.players.find(n=>n.id===t.id))throw new Error("Player ID already exists.");return this.#e.players.push({...t}),this.#i.next(this.#e),(0,c.of)(t)}editPlayer(t,n){n.id=n.id.trim(),n.name=n.name.trim();const o=this.#e.players.find(s=>s.id===t);if(!o)throw new Error("Player being edited does not exist.");if(o.name!=n.name&&this.#e.players.some(s=>s.name===n.name))throw new Error("Player name already exists.");return o.name=n.name,this.#i.next(this.#e),(0,c.of)(o)}deletePlayer(t){return this.#e.players=this.#e.players.filter(n=>n.id!=t),this.#i.next(this.#e),(0,c.of)(!0)}createGame(t){if(this.#e.games.find(s=>s.id===t.id))throw new Error("Game ID already exists.");if(!this.#e.teams.find(s=>s.id===t.homeTeamId))throw new Error("Home Team in game does not exist.");if(!this.#e.teams.find(s=>s.id===t.awayTeamId))throw new Error("Away Team in game does not exist.");return this.#e.games.push(t),this.#i.next(this.#e),(0,c.of)(t)}editGame(t,n){return this.watchGame$(t).pipe((0,k.q)(1),(0,A.w)(o=>o?(o.location=n.location,o.startTime=n.startTime,o.status=n.status,this.#i.next(this.#e),(0,c.of)(o)):(0,c.of)(null)))}deleteGame(t){return this.#e.games=this.#e.games.filter(n=>n.id!=t),this.#i.next(this.#e),(0,c.of)(!0)}addPlayerToRoster(t,n,o,s){return this.watchGame$(t).pipe((0,k.q)(1),(0,A.w)(p=>!p||p.awayRoster.find(f=>f.id===n)||p.homeRoster.find(f=>f.id===n)?(0,c.of)(!1):this.watchPlayer$(n).pipe((0,k.q)(1),(0,A.w)(f=>f?(o?p.homeRoster.push({id:n,jersey:s}):p.awayRoster.push({id:n,jersey:s}),this.#i.next(this.#e),(0,c.of)(!0)):(0,c.of)(!1)))))}removePlayerFromRoster(t,n,o){return this.watchGame$(t).pipe((0,k.q)(1),(0,A.w)(s=>{if(!s)return(0,c.of)(!1);if(o){const f=s.homeRoster.find(b=>b.id===n);return f?(s.homeRoster=s.homeRoster.filter(b=>b.id!=f.id),this.#i.next(this.#e),(0,c.of)(!0)):(0,c.of)(!1)}const p=s.awayRoster.find(f=>f.id===n);return p?(s.awayRoster=s.awayRoster.filter(f=>f.id!=p.id),this.#i.next(this.#e),(0,c.of)(!0)):(0,c.of)(!1)}))}watchRoster$(t,n){return this.watchGame$(t).pipe((0,A.w)(o=>(0,c.of)(o?n?o.homeRoster.map(s=>this.#e.players.find(p=>p.id===s.id)):o.awayRoster.map(s=>this.#e.players.find(p=>p.id===s.id)):new Array)))}createPlay(t,n){return this.watchGame$(t).pipe((0,k.q)(1),(0,v.U)(o=>{if(!o)return null;const s={...n,id:o.plays.length.toString(),index:o.plays.length};return o.plays.push(s),this.#i.next(this.#e),s}))}static#a=this.\u0275fac=function(n){return new(n||i)};static#r=this.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();L=x;const z=i=>["/","games",i],R=i=>["/","edit-game",i];function D(i,a){if(1&i&&(e.TgZ(0,"div",1),e._UZ(1,"p-button",2)(2,"p-button",3),e.TgZ(3,"div",4),e._uU(4),e.ALo(5,"game"),e.qZA(),e.TgZ(6,"div",5),e._uU(7),e.ALo(8,"gameinfo"),e.qZA()()),2&i){const t=a.$implicit;e.xp6(1),e.Q6J("routerLink",e.VKq(8,z,t.id)),e.xp6(1),e.Q6J("routerLink",e.VKq(10,R,t.id)),e.xp6(2),e.hij(" ",e.lcZ(5,4,t)," "),e.xp6(3),e.hij(" ",e.lcZ(8,6,t)," ")}}function H(i,a){1&i&&(e.TgZ(0,"div"),e._uU(1,"No Games."),e.qZA())}const K=i=>["/","teams",i];function O(i,a){if(1&i&&(e.TgZ(0,"li")(1,"a",6),e._uU(2),e.qZA()()),2&i){const t=a.$implicit;e.xp6(1),e.Q6J("routerLink",e.VKq(2,K,t.id)),e.xp6(1),e.Oqu(t.name)}}function Y(i,a){1&i&&(e.TgZ(0,"p-card",0),e.SjG(1,D,9,12,"div",7,e.ikw,!1,H,2,0),e.qZA(),e.TgZ(4,"ul"),e.SjG(5,O,3,4,"li",null,e.ikw),e.qZA()),2&i&&(e.Q6J("header","Current Games"),e.xp6(1),e.wJu(a.games),e.xp6(4),e.wJu(a.teams))}function X(i,a){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.xp6(1),e.HOy(" ",t.playerGame.id," - ",t.passingCompletions,"/",t.passingAttempts," for ",t.passingYardage," yards\n")}}let B=(()=>{class i{#t;constructor(){this.#t=(0,e.f3M)(x),this.league$=this.#t.watchLeague$(),this.gameStats=new Q({id:"001",homeTeamId:"01",awayTeamId:"02",homeRoster:[{id:"jd",jersey:"21"},{id:"tommy",jersey:"69"}],awayRoster:[{id:"layla",jersey:"99"}],startTime:0,location:"Lumen Field",status:"Finished",homeScore:0,awayScore:0,plays:[{id:"01",index:0,down:1,distanceToGo:10,yardLine:25,yardage:6,type:"passing",offensiveTeamId:"01",defensiveTeamId:"02",completedPass:!0,earnedFirstDown:!1,points:0,sack:!1,passer:"jd",receiver:"tommy",flagPuller:"layla"}]})}static#i=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275cmp=e.Xpm({type:i,selectors:[["home-page"]],standalone:!0,features:[e.jDz],decls:6,vars:3,consts:[[1,"w-30rem",3,"header"],[1,"flex","gap-3","align-items-center","mb-3"],["size","small","icon","pi pi-eye","severity","success",3,"routerLink"],["size","small","icon","pi pi-pencil","severity","primary",3,"routerLink"],[1,"p-card-title","text-center","align-items-center"],[1,"text-center","text-600","mb-3"],[3,"routerLink"],["class","flex gap-3 align-items-center mb-3"]],template:function(n,o){if(1&n&&(e.TgZ(0,"h1"),e._uU(1,"Home Page"),e.qZA(),e.YNc(2,Y,7,2),e.ALo(3,"async"),e.SjG(4,X,2,4,"div",null,e.ikw)),2&n){let s;e.xp6(2),e.um2(2,(s=e.lcZ(3,1,o.league$))?2:-1,s),e.xp6(2),e.wJu(o.gameStats.homeTeamStats.playerStats)}},dependencies:[u.ez,u.Ov,m.Bz,m.rH,_.d,_.Z,h.hJ,h.zx,P,M],encapsulation:2})}return i})();var g=d(5592);let W=(()=>{class i{transform(t){return`${t.id} - ${t.name}`}static#t=this.\u0275fac=function(n){return new(n||i)};static#i=this.\u0275pipe=e.Yjl({name:"team",type:i,pure:!0,standalone:!0})}return i})();const ee=i=>["/","edit-team",i];function te(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"h1"),e._uU(1),e.ALo(2,"team"),e.qZA(),e.TgZ(3,"div",0),e._UZ(4,"p-button",1),e.TgZ(5,"p-button",2),e.NdJ("onClick",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.deleteTeam())}),e.qZA()()}2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,2,a)),e.xp6(3),e.Q6J("routerLink",e.VKq(4,ee,a.id)))}function ie(i,a){1&i&&(e.TgZ(0,"h1"),e._uU(1,"Team is not found."),e.qZA())}let ne=(()=>{class i{constructor(){this.#t=(0,e.f3M)(x),this.#i=(0,e.f3M)(m.F0),this.team$=new g.y}#t;#i;ngOnInit(){this.team$=this.#t.watchTeam$(this.id)}deleteTeam(){this.#t.deleteTeam(this.id).subscribe({next:()=>this.#i.navigate(["/"])})}static#e=this.\u0275fac=function(n){return new(n||i)};static#n=this.\u0275cmp=e.Xpm({type:i,selectors:[["view-team"]],inputs:{id:"id"},standalone:!0,features:[e.jDz],decls:3,vars:3,consts:[[1,"flex","justify-content-end","gap-2"],["label","Edit Team","icon","pi pi-pencil","severity","primary",3,"routerLink"],["label","Delete Team","icon","pi pi-times","severity","danger",3,"onClick"]],template:function(n,o){if(1&n&&(e.YNc(0,te,6,6),e.ALo(1,"async"),e.YNc(2,ie,2,0)),2&n){let s;e.um2(0,(s=e.lcZ(1,1,o.team$))?0:2,s)}},dependencies:[u.ez,u.Ov,m.Bz,m.rH,_.d,h.hJ,h.zx,W],encapsulation:2})}return i})();var r=d(95),C=d(3714),T=d(9502),y=d(3259),w=d(5219);function oe(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"p-messages",12),e.NdJ("valueChange",function(o){e.CHM(t);const s=e.oxw();return e.KtG(s.errors=o)}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("value",t.errors)("enableService",!1)}}const ae=()=>["/"];function re(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",13)(1,"p-button",14),e.NdJ("onClick",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.createTeamClicked())}),e.qZA(),e._UZ(2,"p-button",15),e.qZA()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("disabled",!t.form.valid||!t.form.dirty),e.xp6(1),e.Q6J("routerLink",e.DdM(2,ae))}}const se=i=>["/","teams",i];function le(i,a){if(1&i&&(e.TgZ(0,"li")(1,"a",16),e._uU(2),e.qZA()()),2&i){const t=a.$implicit;e.xp6(1),e.Q6J("routerLink",e.VKq(3,se,t.id)),e.xp6(1),e.AsE("",t.id," - ",t.name,"")}}function me(i,a){1&i&&(e.TgZ(0,"ul"),e.SjG(1,le,3,5,"li",null,e.ikw),e.qZA()),2&i&&(e.xp6(1),e.wJu(a))}let ce=(()=>{class i{constructor(){this.#t=(0,e.f3M)(x),this.#i=(0,e.f3M)(m.F0),this.#e=(0,e.f3M)(r.qu),this.form=this.#e.group({id:this.#e.nonNullable.control("",[r.kI.required,r.kI.minLength(2),r.kI.maxLength(4)]),name:this.#e.nonNullable.control("",[r.kI.required,r.kI.minLength(4),r.kI.maxLength(25)])}),this.teams$=this.#t.watchTeams$(),this.errors=new Array}#t;#i;#e;createTeamClicked(){if(!this.form.valid)throw new Error("Form is not valid.");const t=this.form.value;this.errors=[];try{this.#t.createTeam({id:t.id,name:t.name}).subscribe({})}catch(n){this.errors.push({severity:"error",summary:"Error",detail:n.message})}}static#n=this.\u0275fac=function(n){return new(n||i)};static#o=this.\u0275cmp=e.Xpm({type:i,selectors:[["create-team"]],standalone:!0,features:[e.jDz],decls:17,vars:7,consts:[[1,"flex","gap-3"],["header","Create Team",1,"w-30rem"],[3,"formGroup","ngSubmit"],[1,"p-fluid"],[1,"field"],["htmlFor","id"],["pInputText","","id","id","formControlName","id","placeholder","Enter an ID","pTooltip","2-4 characters","tooltipPosition","bottom",3,"maxlength"],["htmlFor","name"],["pInputText","","id","name","formControlName","name","placeholder","Enter a name","pTooltip","4-25 characters","tooltipPosition","bottom",3,"maxlength"],[3,"value","enableService"],["pTemplate","footer"],["header","Current Teams",1,"w-15rem"],[3,"value","enableService","valueChange"],[1,"flex","justify-content-end"],["label","Save","icon","pi pi-check","severity","success",3,"disabled","onClick"],["label","Cancel","icon","pi pi-times","severity","danger",1,"ml-2",3,"routerLink"],[3,"routerLink"]],template:function(n,o){if(1&n&&(e.TgZ(0,"div",0)(1,"p-card",1)(2,"form",2),e.NdJ("ngSubmit",function(){return o.form.valid}),e.TgZ(3,"div",3)(4,"div",4)(5,"label",5),e._uU(6,"ID"),e.qZA(),e._UZ(7,"input",6),e.qZA(),e.TgZ(8,"div",4)(9,"label",7),e._uU(10,"Name"),e.qZA(),e._UZ(11,"input",8),e.qZA()()(),e.YNc(12,oe,1,2,"p-messages",9)(13,re,3,3,"ng-template",10),e.qZA(),e.TgZ(14,"p-card",11),e.YNc(15,me,3,0,"ul"),e.ALo(16,"async"),e.qZA()()),2&n){let s;e.xp6(2),e.Q6J("formGroup",o.form),e.xp6(5),e.Q6J("maxlength",4),e.xp6(4),e.Q6J("maxlength",25),e.xp6(1),e.um2(12,o.errors.length?12:-1),e.xp6(3),e.um2(15,(s=e.lcZ(16,5,o.teams$))?15:-1,s)}},dependencies:[u.ez,u.Ov,m.Bz,m.rH,_.d,_.Z,w.jx,h.hJ,h.zx,r.UX,r._Y,r.Fj,r.JJ,r.JL,r.nD,r.sg,r.u,C.j,C.o,T.$,T.V,y.z,y.u],encapsulation:2})}return i})();var q=d(9397);function pe(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"p-messages",13),e.NdJ("valueChange",function(o){e.CHM(t);const s=e.oxw(2);return e.KtG(s.errors=o)}),e.qZA()}if(2&i){const t=e.oxw(2);e.Q6J("value",t.errors)("enableService",!1)}}const de=()=>["/"];function ue(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",14)(1,"p-button",15),e.NdJ("onClick",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.editTeamClicked())}),e.qZA(),e._UZ(2,"p-button",16),e.qZA()}if(2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("disabled",!t.form.valid||!t.form.dirty),e.xp6(1),e.Q6J("routerLink",e.DdM(2,de))}}const he=i=>["/","teams",i];function _e(i,a){if(1&i&&(e.TgZ(0,"li")(1,"a",17),e._uU(2),e.qZA()()),2&i){const t=a.$implicit;e.xp6(1),e.Q6J("routerLink",e.VKq(3,he,t.id)),e.xp6(1),e.AsE("",t.id," - ",t.name,"")}}function fe(i,a){1&i&&(e.TgZ(0,"ul"),e.SjG(1,_e,3,5,"li",null,e.ikw),e.qZA()),2&i&&(e.xp6(1),e.wJu(a))}function ge(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",1)(1,"p-card",2)(2,"form",3),e.NdJ("ngSubmit",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.form.valid)}),e.TgZ(3,"div",4)(4,"div",5)(5,"label",6),e._uU(6,"ID"),e.qZA(),e._UZ(7,"input",7),e.qZA(),e.TgZ(8,"div",5)(9,"label",8),e._uU(10,"Name"),e.qZA(),e._UZ(11,"input",9),e.qZA()()(),e.YNc(12,pe,1,2,"p-messages",10)(13,ue,3,3,"ng-template",11),e.qZA(),e.TgZ(14,"p-card",12),e.YNc(15,fe,3,0,"ul"),e.ALo(16,"async"),e.qZA()()}if(2&i){const t=e.oxw();let n;e.xp6(1),e.Q6J("header","Edit Team - "+a.id),e.xp6(1),e.Q6J("formGroup",t.form),e.xp6(5),e.Q6J("maxlength",4),e.xp6(4),e.Q6J("maxlength",25),e.xp6(1),e.um2(12,t.errors.length?12:-1),e.xp6(3),e.um2(15,(n=e.lcZ(16,6,t.teams$))?15:-1,n)}}let Ce=(()=>{class i{constructor(){this.#t=(0,e.f3M)(x),this.#i=(0,e.f3M)(m.F0),this.#e=(0,e.f3M)(r.qu),this.form=this.#e.group({id:this.#e.nonNullable.control("",[r.kI.required,r.kI.minLength(2),r.kI.maxLength(4)]),name:this.#e.nonNullable.control("",[r.kI.required,r.kI.minLength(4),r.kI.maxLength(25)])}),this.teams$=this.#t.watchTeams$(),this.errors=new Array,this.team$=new g.y}#t;#i;#e;ngOnInit(){this.team$=this.#t.watchTeam$(this.id).pipe((0,q.b)(t=>{t&&(this.form.controls.id.setValue(t.id),this.form.controls.name.setValue(t.name))}))}editTeamClicked(){if(!this.form.valid)throw new Error("Form is not valid.");const t=this.form.value;this.errors=[];try{this.#t.editTeam(this.id,{id:t.id,name:t.name}).subscribe({next:n=>this.#i.navigate(["/","teams",n.id])})}catch(n){this.errors.push({severity:"error",summary:"Error",detail:n.message})}}static#n=this.\u0275fac=function(n){return new(n||i)};static#o=this.\u0275cmp=e.Xpm({type:i,selectors:[["edit-team"]],inputs:{id:"id"},standalone:!0,features:[e.jDz],decls:2,vars:3,consts:[["class","flex gap-3"],[1,"flex","gap-3"],[1,"w-30rem",3,"header"],[3,"formGroup","ngSubmit"],[1,"p-fluid"],[1,"field"],["htmlFor","id"],["pInputText","","id","id","formControlName","id","placeholder","Enter an ID","pTooltip","2-4 characters","tooltipPosition","bottom",3,"maxlength"],["htmlFor","name"],["pInputText","","id","name","formControlName","name","placeholder","Enter a name","pTooltip","4-25 characters","tooltipPosition","bottom",3,"maxlength"],[3,"value","enableService"],["pTemplate","footer"],["header","Current Teams",1,"w-15rem"],[3,"value","enableService","valueChange"],[1,"flex","justify-content-end"],["label","Save","icon","pi pi-check","severity","success",3,"disabled","onClick"],["label","Cancel","icon","pi pi-times","severity","danger",1,"ml-2",3,"routerLink"],[3,"routerLink"]],template:function(n,o){if(1&n&&(e.YNc(0,ge,17,8,"div",0),e.ALo(1,"async")),2&n){let s;e.um2(0,(s=e.lcZ(1,1,o.team$))?0:-1,s)}},dependencies:[u.ez,u.Ov,m.Bz,m.rH,_.d,_.Z,w.jx,h.hJ,h.zx,r.UX,r._Y,r.Fj,r.JJ,r.JL,r.nD,r.sg,r.u,C.j,C.o,T.$,T.V,y.z,y.u],encapsulation:2})}return i})();function Te(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"p-messages",12),e.NdJ("valueChange",function(o){e.CHM(t);const s=e.oxw();return e.KtG(s.errors=o)}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("value",t.errors)("enableService",!1)}}const ye=()=>["/"];function xe(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",13)(1,"p-button",14),e.NdJ("onClick",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.createPlayerClicked())}),e.qZA(),e._UZ(2,"p-button",15),e.qZA()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("disabled",!t.form.valid||!t.form.dirty),e.xp6(1),e.Q6J("routerLink",e.DdM(2,ye))}}const ve=i=>["/","players",i];function we(i,a){if(1&i&&(e.TgZ(0,"li")(1,"a",16),e._uU(2),e.qZA()()),2&i){const t=a.$implicit;e.xp6(1),e.Q6J("routerLink",e.VKq(2,ve,t.id)),e.xp6(1),e.Oqu(t.name)}}function Ze(i,a){1&i&&(e.TgZ(0,"ul"),e.SjG(1,we,3,4,"li",null,e.ikw),e.qZA()),2&i&&(e.xp6(1),e.wJu(a))}let be=(()=>{class i{constructor(){this.#t=(0,e.f3M)(x),this.#i=(0,e.f3M)(m.F0),this.#e=(0,e.f3M)(r.qu),this.form=this.#e.group({id:this.#e.nonNullable.control("",[r.kI.required,r.kI.minLength(2),r.kI.maxLength(4)]),name:this.#e.nonNullable.control("",[r.kI.required,r.kI.minLength(4),r.kI.maxLength(25)])}),this.teams$=this.#t.watchTeams$(),this.players$=this.#t.watchPlayers$(),this.errors=new Array}#t;#i;#e;createPlayerClicked(){if(!this.form.valid)throw new Error("Form is not valid.");const t=this.form.value;this.errors=[];try{this.#t.createPlayer({id:t.id,name:t.name}).subscribe({})}catch(n){this.errors.push({severity:"error",summary:"Error",detail:n.message})}}static#n=this.\u0275fac=function(n){return new(n||i)};static#o=this.\u0275cmp=e.Xpm({type:i,selectors:[["create-player"]],standalone:!0,features:[e.jDz],decls:17,vars:7,consts:[[1,"flex","gap-3"],["header","Create Player",1,"w-30rem"],[3,"formGroup","ngSubmit"],[1,"p-fluid"],[1,"field"],["htmlFor","id"],["pInputText","","id","id","formControlName","id","placeholder","Enter an ID","pTooltip","2-4 characters","tooltipPosition","bottom",3,"maxlength"],["htmlFor","name"],["pInputText","","id","name","formControlName","name","placeholder","Enter a name","pTooltip","4-25 characters","tooltipPosition","bottom",3,"maxlength"],[3,"value","enableService"],["pTemplate","footer"],["header","Current Players",1,"w-15rem"],[3,"value","enableService","valueChange"],[1,"flex","justify-content-end"],["label","Save","icon","pi pi-check","severity","success",3,"disabled","onClick"],["label","Cancel","icon","pi pi-times","severity","danger",1,"ml-2",3,"routerLink"],[3,"routerLink"]],template:function(n,o){if(1&n&&(e.TgZ(0,"div",0)(1,"p-card",1)(2,"form",2),e.NdJ("ngSubmit",function(){return o.form.valid}),e.TgZ(3,"div",3)(4,"div",4)(5,"label",5),e._uU(6,"ID"),e.qZA(),e._UZ(7,"input",6),e.qZA(),e.TgZ(8,"div",4)(9,"label",7),e._uU(10,"Name"),e.qZA(),e._UZ(11,"input",8),e.qZA()()(),e.YNc(12,Te,1,2,"p-messages",9)(13,xe,3,3,"ng-template",10),e.qZA(),e.TgZ(14,"p-card",11),e.YNc(15,Ze,3,0,"ul"),e.ALo(16,"async"),e.qZA()()),2&n){let s;e.xp6(2),e.Q6J("formGroup",o.form),e.xp6(5),e.Q6J("maxlength",4),e.xp6(4),e.Q6J("maxlength",25),e.xp6(1),e.um2(12,o.errors.length?12:-1),e.xp6(3),e.um2(15,(s=e.lcZ(16,5,o.players$))?15:-1,s)}},dependencies:[u.ez,u.Ov,m.Bz,m.rH,_.d,_.Z,w.jx,h.hJ,h.zx,r.UX,r._Y,r.Fj,r.JJ,r.JL,r.nD,r.sg,r.u,C.j,C.o,T.$,T.V,y.z,y.u],encapsulation:2})}return i})(),ke=(()=>{class i{transform(t){return`${t.name}`}static#t=this.\u0275fac=function(n){return new(n||i)};static#i=this.\u0275pipe=e.Yjl({name:"player",type:i,pure:!0,standalone:!0})}return i})();const Ae=i=>["/","edit-player",i];function qe(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"h1"),e._uU(1),e.ALo(2,"player"),e.qZA(),e.TgZ(3,"div",0),e._UZ(4,"p-button",1),e.TgZ(5,"p-button",2),e.NdJ("onClick",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.deletePlayer())}),e.qZA()()}2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,2,a)),e.xp6(3),e.Q6J("routerLink",e.VKq(4,Ae,a.id)))}function $e(i,a){1&i&&(e.TgZ(0,"h1"),e._uU(1,"Team is not found."),e.qZA())}let Je=(()=>{class i{constructor(){this.#t=(0,e.f3M)(x),this.#i=(0,e.f3M)(m.F0),this.team$=new g.y,this.player$=new g.y}#t;#i;ngOnInit(){this.player$=this.#t.watchPlayer$(this.id)}deletePlayer(){this.#t.deletePlayer(this.id).subscribe({next:()=>this.#i.navigate(["/"])})}static#e=this.\u0275fac=function(n){return new(n||i)};static#n=this.\u0275cmp=e.Xpm({type:i,selectors:[["view-player"]],inputs:{id:"id"},standalone:!0,features:[e.jDz],decls:3,vars:3,consts:[[1,"flex","justify-content-end","gap-2"],["label","Edit Player","icon","pi pi-pencil","severity","primary",3,"routerLink"],["label","Delete Player","icon","pi pi-times","severity","danger",3,"onClick"]],template:function(n,o){if(1&n&&(e.YNc(0,qe,6,6),e.ALo(1,"async"),e.YNc(2,$e,2,0)),2&n){let s;e.um2(0,(s=e.lcZ(1,1,o.player$))?0:2,s)}},dependencies:[u.ez,u.Ov,m.Bz,m.rH,_.d,h.hJ,h.zx,ke],encapsulation:2})}return i})();function Ge(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"p-messages",11),e.NdJ("valueChange",function(o){e.CHM(t);const s=e.oxw(2);return e.KtG(s.errors=o)}),e.qZA()}if(2&i){const t=e.oxw(2);e.Q6J("value",t.errors)("enableService",!1)}}const Pe=()=>["/"];function Le(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",12)(1,"p-button",13),e.NdJ("onClick",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.editPlayerClicked())}),e.qZA(),e._UZ(2,"p-button",14),e.qZA()}if(2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("disabled",!t.form.valid||!t.form.dirty),e.xp6(1),e.Q6J("routerLink",e.DdM(2,Pe))}}const Fe=i=>["/","players",i];function Se(i,a){if(1&i&&(e.TgZ(0,"li")(1,"a",15),e._uU(2),e.qZA()()),2&i){const t=a.$implicit;e.xp6(1),e.Q6J("routerLink",e.VKq(2,Fe,t.id)),e.xp6(1),e.Oqu(t.name)}}function Ee(i,a){1&i&&(e.TgZ(0,"ul"),e.SjG(1,Se,3,4,"li",null,e.ikw),e.qZA()),2&i&&(e.xp6(1),e.wJu(a))}function Ne(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",1)(1,"p-card",2)(2,"form",3),e.NdJ("ngSubmit",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.form.valid)}),e.TgZ(3,"div",4)(4,"div",5)(5,"label",6),e._uU(6,"Name"),e.qZA(),e._UZ(7,"input",7),e.qZA()()(),e.YNc(8,Ge,1,2,"p-messages",8)(9,Le,3,3,"ng-template",9),e.qZA(),e.TgZ(10,"p-card",10),e.YNc(11,Ee,3,0,"ul"),e.ALo(12,"async"),e.qZA()()}if(2&i){const t=e.oxw();let n;e.xp6(1),e.Q6J("header","Edit Player - "+a.id),e.xp6(1),e.Q6J("formGroup",t.form),e.xp6(5),e.Q6J("maxlength",25),e.xp6(1),e.um2(8,t.errors.length?8:-1),e.xp6(3),e.um2(11,(n=e.lcZ(12,5,t.players$))?11:-1,n)}}let Ue=(()=>{class i{constructor(){this.#t=(0,e.f3M)(x),this.#i=(0,e.f3M)(m.F0),this.#e=(0,e.f3M)(r.qu),this.form=this.#e.group({name:this.#e.nonNullable.control("",[r.kI.required,r.kI.minLength(4),r.kI.maxLength(25)])}),this.teams$=this.#t.watchTeams$(),this.players$=this.#t.watchPlayers$(),this.errors=new Array,this.team$=new g.y,this.player$=new g.y}#t;#i;#e;ngOnInit(){this.player$=this.#t.watchPlayer$(this.id).pipe((0,q.b)(t=>{t&&this.form.controls.name.setValue(t.name)}))}editPlayerClicked(){if(!this.form.valid)throw new Error("Form is not valid.");const t=this.form.value;this.errors=[];try{this.#t.editPlayer(this.id,{id:this.id,name:t.name}).subscribe({next:n=>this.#i.navigate(["/","players",this.id])})}catch(n){this.errors.push({severity:"error",summary:"Error",detail:n.message})}}static#n=this.\u0275fac=function(n){return new(n||i)};static#o=this.\u0275cmp=e.Xpm({type:i,selectors:[["edit-player"]],inputs:{id:"id"},standalone:!0,features:[e.jDz],decls:2,vars:3,consts:[["class","flex gap-3"],[1,"flex","gap-3"],[1,"w-30rem",3,"header"],[3,"formGroup","ngSubmit"],[1,"p-fluid"],[1,"field"],["htmlFor","name"],["pInputText","","id","name","formControlName","name","placeholder","Enter a name","pTooltip","4-25 characters","tooltipPosition","bottom",3,"maxlength"],[3,"value","enableService"],["pTemplate","footer"],["header","Current Players",1,"w-15rem"],[3,"value","enableService","valueChange"],[1,"flex","justify-content-end"],["label","Save","icon","pi pi-check","severity","success",3,"disabled","onClick"],["label","Cancel","icon","pi pi-times","severity","danger",1,"ml-2",3,"routerLink"],[3,"routerLink"]],template:function(n,o){if(1&n&&(e.YNc(0,Ne,13,7,"div",0),e.ALo(1,"async")),2&n){let s;e.um2(0,(s=e.lcZ(1,1,o.player$))?0:-1,s)}},dependencies:[u.ez,u.Ov,m.Bz,m.rH,_.d,_.Z,w.jx,h.hJ,h.zx,r.UX,r._Y,r.Fj,r.JJ,r.JL,r.nD,r.sg,r.u,C.j,C.o,T.$,T.V,y.z,y.u],encapsulation:2})}return i})();var Z=d(6760),$=d(3965);function F(i,a){return t=>{const n=t.value[i],o=t.value[a];return n&&o&&n===o?{fieldsMustBeDifferent:!0}:null}}function Ie(i,a){1&i&&(e.TgZ(0,"div",20),e._uU(1," Teams must be different. "),e.qZA())}function je(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"p-messages",21),e.NdJ("valueChange",function(o){e.CHM(t);const s=e.oxw();return e.KtG(s.errors=o)}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("value",t.errors)("enableService",!1)}}const Qe=()=>["/"];function Me(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",22)(1,"p-button",23),e.NdJ("onClick",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.createGameClicked())}),e.qZA(),e._UZ(2,"p-button",24),e.qZA()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("disabled",!t.form.valid||!t.form.dirty),e.xp6(1),e.Q6J("routerLink",e.DdM(2,Qe))}}const Ve=i=>["/","players",i];function ze(i,a){if(1&i&&(e.TgZ(0,"li")(1,"a",25),e._uU(2),e.qZA()()),2&i){const t=a.$implicit;e.xp6(1),e.Q6J("routerLink",e.VKq(2,Ve,t.id)),e.xp6(1),e.Oqu(t.name)}}function Re(i,a){1&i&&(e.TgZ(0,"ul"),e.SjG(1,ze,3,4,"li",null,e.ikw),e.qZA()),2&i&&(e.xp6(1),e.wJu(a))}const De=i=>["/","teams",i];function He(i,a){if(1&i&&(e.TgZ(0,"li")(1,"a",25),e._uU(2),e.qZA()()),2&i){const t=a.$implicit;e.xp6(1),e.Q6J("routerLink",e.VKq(3,De,t.id)),e.xp6(1),e.AsE("",t.id," - ",t.name,"")}}function Ke(i,a){1&i&&(e.TgZ(0,"ul"),e.SjG(1,He,3,5,"li",null,e.ikw),e.qZA()),2&i&&(e.xp6(1),e.wJu(a))}let Oe=(()=>{class i{constructor(){this.#t=(0,e.f3M)(x),this.#i=(0,e.f3M)(m.F0),this.#e=(0,e.f3M)(r.qu),this.form=this.#e.group({id:this.#e.nonNullable.control("",[r.kI.required,r.kI.minLength(2),r.kI.maxLength(4)]),startTime:this.#e.nonNullable.control(new Date,[r.kI.required]),location:this.#e.nonNullable.control("",[r.kI.required,r.kI.minLength(1),r.kI.maxLength(100)]),awayTeam:this.#e.nonNullable.control("",[r.kI.required]),homeTeam:this.#e.nonNullable.control("",[r.kI.required])},{validators:[F("awayTeam","homeTeam")]}),this.teams$=this.#t.watchTeams$(),this.players$=this.#t.watchPlayers$(),this.errors=new Array}#t;#i;#e;createGameClicked(){if(!this.form.valid)throw new Error("Form is not valid.");const t=this.form.value;this.errors=[];try{this.#t.createGame({id:t.id,homeTeamId:t.homeTeam,awayTeamId:t.awayTeam,homeRoster:[],awayRoster:[],startTime:t.startTime.getTime(),location:t.location,status:"",homeScore:0,awayScore:0,plays:[]}).subscribe({})}catch(n){this.errors.push({severity:"error",summary:"Error",detail:n.message})}}static#n=this.\u0275fac=function(n){return new(n||i)};static#o=this.\u0275cmp=e.Xpm({type:i,selectors:[["create-game"]],standalone:!0,features:[e.jDz],decls:35,vars:19,consts:[[1,"flex","gap-3"],["header","Create Game",1,"w-30rem"],[3,"formGroup","ngSubmit"],[1,"p-fluid"],[1,"field"],["htmlFor","id"],["pInputText","","id","id","formControlName","id","placeholder","Enter an ID","pTooltip","2-4 characters","tooltipPosition","bottom",3,"maxlength"],["htmlFor","startTime"],["formControlName","startTime","hourFormat","12",3,"showIcon","showTime"],["htmlFor","location"],["pInputText","","id","location","formControlName","location","placeholder","Enter a Location","pTooltip","1-100 characters","tooltipPosition","bottom",3,"maxlength"],["htmlFor","awayTeam"],["id","awayTeam","formControlName","awayTeam","optionLabel","name","optionValue","id","placeholder","Select a Team",3,"options"],["htmlFor","homeTeam"],["id","homeTeam","formControlName","homeTeam","optionLabel","name","optionValue","id","placeholder","Select a Team",3,"options"],["class","text-red-500"],[3,"value","enableService"],["pTemplate","footer"],["header","Current Players",1,"w-15rem"],["header","Current Teams",1,"w-15rem"],[1,"text-red-500"],[3,"value","enableService","valueChange"],[1,"flex","justify-content-end"],["label","Save","icon","pi pi-check","severity","success",3,"disabled","onClick"],["label","Cancel","icon","pi pi-times","severity","danger",1,"ml-2",3,"routerLink"],[3,"routerLink"]],template:function(n,o){if(1&n&&(e.TgZ(0,"div",0)(1,"p-card",1)(2,"form",2),e.NdJ("ngSubmit",function(){return o.form.valid}),e.TgZ(3,"div",3)(4,"div",4)(5,"label",5),e._uU(6,"ID"),e.qZA(),e._UZ(7,"input",6),e.qZA(),e.TgZ(8,"div",4)(9,"label",7),e._uU(10,"Start Time"),e.qZA(),e._UZ(11,"p-calendar",8),e.qZA(),e.TgZ(12,"div",4)(13,"label",9),e._uU(14,"Location"),e.qZA(),e._UZ(15,"input",10),e.qZA(),e.TgZ(16,"div",4)(17,"label",11),e._uU(18,"Away Team"),e.qZA(),e._UZ(19,"p-dropdown",12),e.ALo(20,"async"),e.qZA(),e.TgZ(21,"div",4)(22,"label",13),e._uU(23,"Home Team"),e.qZA(),e._UZ(24,"p-dropdown",14),e.ALo(25,"async"),e.qZA(),e.YNc(26,Ie,2,0,"div",15),e.qZA()(),e.YNc(27,je,1,2,"p-messages",16)(28,Me,3,3,"ng-template",17),e.qZA(),e.TgZ(29,"p-card",18),e.YNc(30,Re,3,0,"ul"),e.ALo(31,"async"),e.qZA(),e.TgZ(32,"p-card",19),e.YNc(33,Ke,3,0,"ul"),e.ALo(34,"async"),e.qZA()()),2&n){let s;e.xp6(2),e.Q6J("formGroup",o.form),e.xp6(5),e.Q6J("maxlength",4),e.xp6(4),e.Q6J("showIcon",!0)("showTime",!0),e.xp6(4),e.Q6J("maxlength",100),e.xp6(4),e.Q6J("options",e.lcZ(20,11,o.teams$)),e.xp6(5),e.Q6J("options",e.lcZ(25,13,o.teams$)),e.xp6(2),e.um2(26,null!=o.form.errors&&o.form.errors.fieldsMustBeDifferent?26:-1),e.xp6(1),e.um2(27,o.errors.length?27:-1),e.xp6(3),e.um2(30,(s=e.lcZ(31,15,o.players$))?30:-1,s),e.xp6(3),e.um2(33,(s=e.lcZ(34,17,o.teams$))?33:-1,s)}},dependencies:[u.ez,u.Ov,m.Bz,m.rH,_.d,_.Z,w.jx,h.hJ,h.zx,r.UX,r._Y,r.Fj,r.JJ,r.JL,r.nD,r.sg,r.u,C.j,C.o,T.$,T.V,y.z,y.u,$.kW,$.Lt,Z._8,Z.f],encapsulation:2})}return i})();var S=d(2572);function Ye(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"p-messages",23),e.NdJ("valueChange",function(o){e.CHM(t);const s=e.oxw(2);return e.KtG(s.errors=o)}),e.qZA()}if(2&i){const t=e.oxw(2);e.Q6J("value",t.errors)("enableService",!1)}}const Xe=()=>["/"];function Be(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",24)(1,"p-button",25),e.NdJ("onClick",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.editGameClicked())}),e.qZA(),e._UZ(2,"p-button",26),e.qZA()}if(2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("disabled",!t.form.valid||!t.form.dirty),e.xp6(1),e.Q6J("routerLink",e.DdM(2,Xe))}}const E=i=>["/","players",i];function We(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",27)(1,"p-button",28),e.NdJ("onClick",function(){const s=e.CHM(t).$implicit,p=e.oxw(3);return e.KtG(p.removePlayerClicked(s.id,!1))}),e.qZA(),e.TgZ(2,"a",29),e._uU(3),e.qZA()()}if(2&i){const t=a.$implicit;e.xp6(2),e.Q6J("routerLink",e.VKq(2,E,t.id)),e.xp6(1),e.Oqu(t.name)}}function et(i,a){1&i&&(e.TgZ(0,"div"),e._uU(1,"No Players."),e.qZA())}function tt(i,a){1&i&&e.SjG(0,We,4,4,"div",30,e.ikw,!1,et,2,0),2&i&&e.wJu(a)}function it(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",27)(1,"p-button",28),e.NdJ("onClick",function(){const s=e.CHM(t).$implicit,p=e.oxw(3);return e.KtG(p.removePlayerClicked(s.id,!0))}),e.qZA(),e.TgZ(2,"a",29),e._uU(3),e.qZA()()}if(2&i){const t=a.$implicit;e.xp6(2),e.Q6J("routerLink",e.VKq(2,E,t.id)),e.xp6(1),e.Oqu(t.name)}}function nt(i,a){1&i&&(e.TgZ(0,"div"),e._uU(1,"No Players."),e.qZA())}function ot(i,a){1&i&&e.SjG(0,it,4,4,"div",30,e.ikw,!1,nt,2,0),2&i&&e.wJu(a)}function at(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",27)(1,"p-button",31),e.NdJ("onClick",function(){const s=e.CHM(t).$implicit,p=e.oxw(3);return e.KtG(p.addPlayerClicked(s.id,!1))}),e.qZA(),e.TgZ(2,"p-button",32),e.NdJ("onClick",function(){const s=e.CHM(t).$implicit,p=e.oxw(3);return e.KtG(p.addPlayerClicked(s.id,!0))}),e.qZA(),e.TgZ(3,"a",29),e._uU(4),e.qZA()()}if(2&i){const t=a.$implicit;e.xp6(3),e.Q6J("routerLink",e.VKq(2,E,t.id)),e.xp6(1),e.Oqu(t.name)}}function rt(i,a){1&i&&e.SjG(0,at,5,4,"div",30,e.ikw),2&i&&e.wJu(a)}const st=i=>["/","games",i];function lt(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",0)(1,"p-card",1)(2,"div",2),e._uU(3,"Edit Game"),e.qZA(),e.TgZ(4,"div",3),e._uU(5),e.ALo(6,"game"),e.qZA(),e.TgZ(7,"div",4),e._uU(8),e.qZA(),e.TgZ(9,"div",5),e._UZ(10,"p-button",6),e.qZA(),e.TgZ(11,"form",7),e.NdJ("ngSubmit",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.form.valid)}),e.TgZ(12,"div",8)(13,"div",9)(14,"label",10),e._uU(15,"Start Time"),e.qZA(),e._UZ(16,"p-calendar",11),e.qZA(),e.TgZ(17,"div",9)(18,"label",12),e._uU(19,"Location"),e.qZA(),e._UZ(20,"input",13),e.qZA(),e.TgZ(21,"div",9)(22,"label",14),e._uU(23,"Status"),e.qZA(),e._UZ(24,"input",15),e.qZA()()(),e.YNc(25,Ye,1,2,"p-messages",16)(26,Be,3,3,"ng-template",17),e.qZA(),e.TgZ(27,"p-card",18),e.YNc(28,tt,3,1),e.ALo(29,"async"),e.qZA(),e.TgZ(30,"p-card",18),e.YNc(31,ot,3,1),e.ALo(32,"async"),e.qZA()(),e.TgZ(33,"div")(34,"p-card",19)(35,"div",20),e.YNc(36,rt,2,0),e.ALo(37,"async"),e.qZA()(),e.TgZ(38,"div",21)(39,"p-button",22),e.NdJ("onClick",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.deleteGameClicked())}),e.qZA()()()}if(2&i){const t=e.oxw();let n;e.xp6(5),e.Oqu(e.lcZ(6,14,a)),e.xp6(3),e.hij("Game ID: ",a.id,""),e.xp6(2),e.Q6J("routerLink",e.VKq(22,st,a.id)),e.xp6(1),e.Q6J("formGroup",t.form),e.xp6(5),e.Q6J("showIcon",!0)("showTime",!0),e.xp6(4),e.Q6J("maxlength",100),e.xp6(4),e.Q6J("maxlength",10),e.xp6(1),e.um2(25,t.errors.length?25:-1),e.xp6(2),e.Q6J("header","Away Team - "+a.awayTeamId),e.xp6(1),e.um2(28,(n=e.lcZ(29,16,t.awayRoster$))?28:-1,n),e.xp6(2),e.Q6J("header","Home Team - "+a.homeTeamId),e.xp6(1),e.um2(31,(n=e.lcZ(32,18,t.homeRoster$))?31:-1,n),e.xp6(5),e.um2(36,(n=e.lcZ(37,20,t.players$))?36:-1,n)}}let mt=(()=>{class i{constructor(){this.#t=(0,e.f3M)(x),this.#i=(0,e.f3M)(m.F0),this.#e=(0,e.f3M)(r.qu),this.form=this.#e.group({startTime:this.#e.nonNullable.control(new Date,[r.kI.required]),location:this.#e.nonNullable.control("",[r.kI.required,r.kI.minLength(1),r.kI.maxLength(100)]),status:this.#e.nonNullable.control("",[r.kI.required,r.kI.minLength(1),r.kI.maxLength(10)])},{validators:[F("awayTeam","homeTeam")]}),this.teams$=this.#t.watchTeams$(),this.players$=this.#t.watchPlayers$(),this.homeRoster$=new g.y,this.awayRoster$=new g.y,this.errors=new Array,this.game$=new g.y}#t;#i;#e;ngOnInit(){this.game$=this.#t.watchGame$(this.id).pipe((0,q.b)(t=>{t&&(this.form.controls.startTime.setValue(new Date(t.startTime)),this.form.controls.location.setValue(t.location),this.form.controls.status.setValue(t.status))})),this.homeRoster$=this.#t.watchRoster$(this.id,!0),this.awayRoster$=this.#t.watchRoster$(this.id,!1),this.players$=(0,S.a)([this.homeRoster$,this.awayRoster$,this.#t.watchPlayers$()]).pipe((0,v.U)(t=>t[2].filter(n=>!t[1].find(o=>o.id===n.id)&&!t[0].find(o=>o.id===n.id))))}editGameClicked(){if(!this.form.valid)throw new Error("Form is not valid.");const t=this.form.value;this.errors=[];try{this.#t.editGame(this.id,{startTime:t.startTime.getTime(),location:t.location,status:t.status}).subscribe({})}catch(n){this.errors.push({severity:"error",summary:"Error",detail:n.message})}}deleteGameClicked(){this.#t.deleteGame(this.id).subscribe({next:()=>this.#i.navigate(["/"])})}addPlayerClicked(t,n){this.#t.addPlayerToRoster(this.id,t,n,"").subscribe()}removePlayerClicked(t,n){this.#t.removePlayerFromRoster(this.id,t,n).subscribe()}static#n=this.\u0275fac=function(n){return new(n||i)};static#o=this.\u0275cmp=e.Xpm({type:i,selectors:[["edit-game"]],inputs:{id:"id"},standalone:!0,features:[e.jDz],decls:2,vars:3,consts:[[1,"flex","gap-3","mb-3"],[1,"w-30rem"],[1,"p-card-title","text-center"],[1,"text-center","font-semibold","text-900"],[1,"text-center","text-600","mb-3"],[1,"text-center"],["size","small","icon","pi pi-eye","severity","primary",3,"routerLink"],[3,"formGroup","ngSubmit"],[1,"p-fluid"],[1,"field"],["htmlFor","startTime"],["formControlName","startTime","hourFormat","12",3,"showIcon","showTime"],["htmlFor","location"],["pInputText","","id","location","formControlName","location","placeholder","Enter a Location","pTooltip","1-100 characters","tooltipPosition","bottom",3,"maxlength"],["htmlFor","status"],["pInputText","","id","status","formControlName","status","placeholder","Enter a Status","pTooltip","1-10 characters","tooltipPosition","bottom",3,"maxlength"],[3,"value","enableService"],["pTemplate","footer"],[1,"w-30rem",3,"header"],["header","Current Players",1,"w-full"],[1,"flex","gap-3"],[1,"mt-3"],["label","Delete Game","icon","pi pi-trash","severity","danger",3,"onClick"],[3,"value","enableService","valueChange"],[1,"flex","justify-content-end"],["label","Save","icon","pi pi-check","severity","success",3,"disabled","onClick"],["label","Cancel","icon","pi pi-times","severity","danger",1,"ml-2",3,"routerLink"],[1,"flex","gap-2","align-items-center","mb-1"],["size","small","icon","pi pi-times","severity","danger",3,"onClick"],[3,"routerLink"],["class","flex gap-2 align-items-center mb-1"],["size","small","icon","pi pi-briefcase","severity","danger",3,"onClick"],["size","small","icon","pi pi-home","severity","success",3,"onClick"]],template:function(n,o){if(1&n&&(e.YNc(0,lt,40,24),e.ALo(1,"async")),2&n){let s;e.um2(0,(s=e.lcZ(1,1,o.game$))?0:-1,s)}},dependencies:[u.ez,u.Ov,m.Bz,m.rH,_.d,_.Z,w.jx,h.hJ,h.zx,r.UX,r._Y,r.Fj,r.JJ,r.JL,r.nD,r.sg,r.u,C.j,C.o,T.$,T.V,y.z,y.u,$.kW,Z._8,Z.f,P],encapsulation:2})}return i})();const I=i=>["/","players",i];function ct(i,a){if(1&i&&(e.TgZ(0,"div",9)(1,"a",10),e._uU(2),e.qZA()()),2&i){const t=a.$implicit;e.xp6(1),e.Q6J("routerLink",e.VKq(2,I,t.id)),e.xp6(1),e.Oqu(t.name)}}function pt(i,a){1&i&&(e.TgZ(0,"div"),e._uU(1,"No Players."),e.qZA())}function dt(i,a){1&i&&e.SjG(0,ct,3,4,"div",11,e.ikw,!1,pt,2,0),2&i&&e.wJu(a)}function ut(i,a){if(1&i&&(e.TgZ(0,"div",9)(1,"a",10),e._uU(2),e.qZA()()),2&i){const t=a.$implicit;e.xp6(1),e.Q6J("routerLink",e.VKq(2,I,t.id)),e.xp6(1),e.Oqu(t.name)}}function ht(i,a){1&i&&(e.TgZ(0,"div"),e._uU(1,"No Players."),e.qZA())}function _t(i,a){1&i&&e.SjG(0,ut,3,4,"div",11,e.ikw,!1,ht,2,0),2&i&&e.wJu(a)}const ft=i=>["/","edit-game",i];function gt(i,a){if(1&i&&(e.TgZ(0,"div",1)(1,"p-card",2)(2,"div",3),e._uU(3,"View Game"),e.qZA(),e.TgZ(4,"div",4),e._uU(5),e.ALo(6,"game"),e.qZA(),e.TgZ(7,"div",5),e._uU(8),e.qZA(),e.TgZ(9,"div",6),e._UZ(10,"p-button",7),e.qZA()(),e.TgZ(11,"p-card",8),e.YNc(12,dt,3,1),e.ALo(13,"async"),e.qZA(),e.TgZ(14,"p-card",8),e.YNc(15,_t,3,1),e.ALo(16,"async"),e.qZA()()),2&i){const t=e.oxw();let n;e.xp6(5),e.Oqu(e.lcZ(6,7,a)),e.xp6(3),e.hij("Game ID: ",a.id,""),e.xp6(2),e.Q6J("routerLink",e.VKq(13,ft,a.id)),e.xp6(1),e.Q6J("header","Away Team - "+a.awayTeamId+" ["+a.awayScore+"]"),e.xp6(1),e.um2(12,(n=e.lcZ(13,9,t.awayRoster$))?12:-1,n),e.xp6(2),e.Q6J("header","Home Team - "+a.homeTeamId+" ["+a.homeScore+"]"),e.xp6(1),e.um2(15,(n=e.lcZ(16,11,t.homeRoster$))?15:-1,n)}}let Ct=(()=>{class i{constructor(){this.#t=(0,e.f3M)(x),this.#i=(0,e.f3M)(m.F0),this.#e=(0,e.f3M)(r.qu),this.teams$=this.#t.watchTeams$(),this.players$=this.#t.watchPlayers$(),this.homeRoster$=new g.y,this.awayRoster$=new g.y,this.errors=new Array,this.game$=new g.y}#t;#i;#e;ngOnInit(){this.game$=this.#t.watchGame$(this.id).pipe((0,q.b)(t=>{})),this.homeRoster$=this.#t.watchRoster$(this.id,!0),this.awayRoster$=this.#t.watchRoster$(this.id,!1),this.players$=(0,S.a)([this.homeRoster$,this.awayRoster$,this.#t.watchPlayers$()]).pipe((0,v.U)(t=>t[2].filter(n=>!t[1].find(o=>o.id===n.id)&&!t[0].find(o=>o.id===n.id))))}static#n=this.\u0275fac=function(n){return new(n||i)};static#o=this.\u0275cmp=e.Xpm({type:i,selectors:[["view-game"]],inputs:{id:"id"},standalone:!0,features:[e.jDz],decls:2,vars:3,consts:[["class","flex gap-3 mb-3"],[1,"flex","gap-3","mb-3"],[1,"w-30rem","align-items-center"],[1,"p-card-title","text-center","align-items-center"],[1,"text-center","font-semibold","text-900"],[1,"text-center","text-600","mb-3"],[1,"text-center"],["size","small","icon","pi pi-pencil","severity","primary",3,"routerLink"],[1,"w-30rem",3,"header"],[1,"flex","gap-2","align-items-center","mb-1"],[3,"routerLink"],["class","flex gap-2 align-items-center mb-1"]],template:function(n,o){if(1&n&&(e.YNc(0,gt,17,15,"div",0),e.ALo(1,"async")),2&n){let s;e.um2(0,(s=e.lcZ(1,1,o.game$))?0:-1,s)}},dependencies:[u.ez,u.Ov,m.Bz,m.rH,_.d,_.Z,h.hJ,h.zx,r.UX,C.j,T.$,y.z,$.kW,Z._8,P],encapsulation:2})}return i})();function Tt(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"p-messages",20),e.NdJ("valueChange",function(o){e.CHM(t);const s=e.oxw(2);return e.KtG(s.errors=o)}),e.qZA()}if(2&i){const t=e.oxw(2);e.Q6J("value",t.errors)("enableService",!1)}}const yt=()=>["/"];function xt(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",21)(1,"p-button",22),e.NdJ("onClick",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.editGameClicked())}),e.qZA(),e._UZ(2,"p-button",23),e.qZA()}if(2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("disabled",!t.form.valid||!t.form.dirty),e.xp6(1),e.Q6J("routerLink",e.DdM(2,yt))}}function vt(i,a){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.xp6(1),e.Oqu(t.id)}}function wt(i,a){1&i&&(e.TgZ(0,"div"),e._uU(1,"No current plays."),e.qZA())}function Zt(i,a){1&i&&(e.TgZ(0,"p-card",2)(1,"div",3),e._uU(2,"Plays"),e.qZA(),e.SjG(3,vt,2,1,"div",null,e.ikw,!1,wt,2,0),e.qZA()),2&i&&(e.xp6(3),e.wJu(a))}const bt=i=>["/","games",i];function kt(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",1)(1,"p-card",2)(2,"div",3),e._uU(3,"Scorekeeper"),e.qZA(),e.TgZ(4,"div",4),e._uU(5),e.ALo(6,"game"),e.qZA(),e.TgZ(7,"div",5),e._uU(8),e.qZA(),e.TgZ(9,"div",6),e._UZ(10,"p-button",7),e.qZA(),e.TgZ(11,"form",8),e.NdJ("ngSubmit",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.form.valid)}),e.TgZ(12,"div",9)(13,"div",10)(14,"label",11),e._uU(15,"Start Time"),e.qZA(),e._UZ(16,"p-calendar",12),e.qZA(),e.TgZ(17,"div",10)(18,"label",13),e._uU(19,"Location"),e.qZA(),e._UZ(20,"input",14),e.qZA(),e.TgZ(21,"div",10)(22,"label",15),e._uU(23,"Status"),e.qZA(),e._UZ(24,"input",16),e.qZA()()(),e.YNc(25,Tt,1,2,"p-messages",17)(26,xt,3,3,"ng-template",18),e.qZA(),e.YNc(27,Zt,6,1,"p-card",19),e.ALo(28,"async"),e.qZA()}if(2&i){const t=e.oxw();let n;e.xp6(5),e.Oqu(e.lcZ(6,10,a)),e.xp6(3),e.hij("Game ID: ",a.id,""),e.xp6(2),e.Q6J("routerLink",e.VKq(14,bt,a.id)),e.xp6(1),e.Q6J("formGroup",t.form),e.xp6(5),e.Q6J("showIcon",!0)("showTime",!0),e.xp6(4),e.Q6J("maxlength",100),e.xp6(4),e.Q6J("maxlength",10),e.xp6(1),e.um2(25,t.errors.length?25:-1),e.xp6(2),e.um2(27,(n=e.lcZ(28,12,t.plays$))?27:-1,n)}}let At=(()=>{class i{constructor(){this.#t=(0,e.f3M)(x),this.#i=(0,e.f3M)(m.F0),this.#e=(0,e.f3M)(r.qu),this.form=this.#e.group({startTime:this.#e.nonNullable.control(new Date,[r.kI.required]),location:this.#e.nonNullable.control("",[r.kI.required,r.kI.minLength(1),r.kI.maxLength(100)]),status:this.#e.nonNullable.control("",[r.kI.required,r.kI.minLength(1),r.kI.maxLength(10)])},{validators:[F("awayTeam","homeTeam")]}),this.teams$=this.#t.watchTeams$(),this.players$=this.#t.watchPlayers$(),this.plays$=new g.y,this.homeRoster$=new g.y,this.awayRoster$=new g.y,this.errors=new Array,this.game$=new g.y}#t;#i;#e;ngOnInit(){this.game$=this.#t.watchGame$(this.id).pipe((0,q.b)(t=>{t&&(this.form.controls.startTime.setValue(new Date(t.startTime)),this.form.controls.location.setValue(t.location),this.form.controls.status.setValue(t.status))})),this.homeRoster$=this.#t.watchRoster$(this.id,!0),this.awayRoster$=this.#t.watchRoster$(this.id,!1),this.players$=(0,S.a)([this.homeRoster$,this.awayRoster$,this.#t.watchPlayers$()]).pipe((0,v.U)(t=>t[2].filter(n=>!t[1].find(o=>o.id===n.id)&&!t[0].find(o=>o.id===n.id)))),this.plays$=this.#t.watchPlays$(this.id)}editGameClicked(){if(!this.form.valid)throw new Error("Form is not valid.");const t=this.form.value;this.errors=[];try{this.#t.editGame(this.id,{startTime:t.startTime.getTime(),location:t.location,status:t.status}).subscribe({})}catch(n){this.errors.push({severity:"error",summary:"Error",detail:n.message})}}addPlayerClicked(t,n){this.#t.addPlayerToRoster(this.id,t,n,"").subscribe()}removePlayerClicked(t,n){this.#t.removePlayerFromRoster(this.id,t,n).subscribe()}static#n=this.\u0275fac=function(n){return new(n||i)};static#o=this.\u0275cmp=e.Xpm({type:i,selectors:[["scorekeeper"]],inputs:{id:"id"},standalone:!0,features:[e.jDz],decls:2,vars:3,consts:[["class","flex gap-3 mb-3"],[1,"flex","gap-3","mb-3"],[1,"w-30rem"],[1,"p-card-title","text-center"],[1,"text-center","font-semibold","text-900"],[1,"text-center","text-600","mb-3"],[1,"text-center"],["size","small","icon","pi pi-eye","severity","primary",3,"routerLink"],[3,"formGroup","ngSubmit"],[1,"p-fluid"],[1,"field"],["htmlFor","startTime"],["formControlName","startTime","hourFormat","12",3,"showIcon","showTime"],["htmlFor","location"],["pInputText","","id","location","formControlName","location","placeholder","Enter a Location","pTooltip","1-100 characters","tooltipPosition","bottom",3,"maxlength"],["htmlFor","status"],["pInputText","","id","status","formControlName","status","placeholder","Enter a Status","pTooltip","1-10 characters","tooltipPosition","bottom",3,"maxlength"],[3,"value","enableService"],["pTemplate","footer"],["class","w-30rem"],[3,"value","enableService","valueChange"],[1,"flex","justify-content-end"],["label","Save","icon","pi pi-check","severity","success",3,"disabled","onClick"],["label","Cancel","icon","pi pi-times","severity","danger",1,"ml-2",3,"routerLink"]],template:function(n,o){if(1&n&&(e.YNc(0,kt,29,16,"div",0),e.ALo(1,"async")),2&n){let s;e.um2(0,(s=e.lcZ(1,1,o.game$))?0:-1,s)}},dependencies:[u.ez,u.Ov,m.Bz,m.rH,_.d,_.Z,w.jx,h.hJ,h.zx,r.UX,r._Y,r.Fj,r.JJ,r.JL,r.nD,r.sg,r.u,C.j,C.o,T.$,T.V,y.z,y.u,$.kW,Z._8,Z.f,P],encapsulation:2})}return i})(),qt=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#i=this.\u0275mod=e.oAB({type:i});static#e=this.\u0275inj=e.cJS({imports:[m.Bz.forChild([{path:"",component:B},{path:"teams/:id",component:ne},{path:"players/:id",component:Je},{path:"games/:id",component:Ct},{path:"create-team",component:ce},{path:"create-player",component:be},{path:"create-game",component:Oe},{path:"edit-team/:id",component:Ce},{path:"edit-game/:id",component:mt},{path:"edit-player/:id",component:Ue},{path:"scorekeeper/:id",component:At}]),m.Bz]})}return i})()}}]);