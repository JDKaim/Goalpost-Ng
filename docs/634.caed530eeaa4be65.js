"use strict";(self.webpackChunkgoalpost_primeng=self.webpackChunkgoalpost_primeng||[]).push([[634],{634:(Ue,P,c)=>{c.r(P),c.d(P,{LeagueSiteRoutingModule:()=>Ge});var m=c(2129),p=c(6814),e=c(9467),u=c(707),d=c(4532);class S{constructor(r,t){this.plays=r,this.playerGame=t;const i=r.filter(s=>s.passer===this.playerGame.id),a=i.filter(s=>s.completedPass);this.passingAttempts=i.length,this.passingCompletions=a.length,this.passingYardage=a.map(s=>s.yardage).reduce((s,Z)=>s+Z,0),this.passingTds=a.filter(s=>6===s.points).length,this.passingOnePointConversions=a.filter(s=>1===s.points).length,this.passingTwoPointConversions=a.filter(s=>2===s.points).length,this.passingInterceptions=i.filter(s=>"interception"===s.turnoverType).length;const l=r.filter(s=>s.rusher===this.playerGame.id);this.rushingAttempts=l.length,this.rushingYardage=l.map(s=>s.yardage).reduce((s,Z)=>s+Z,0),this.rushingTds=l.filter(s=>6===s.points).length,this.rushingOnePointConversions=l.filter(s=>1===s.points).length,this.rushingTwoPointConversions=l.filter(s=>2===s.points).length,this.offensiveFumbles=l.filter(s=>"fumble"===s.turnoverType).length,this.offensiveSacks=l.filter(s=>s.sack).length;const q=r.filter(s=>s.receiver===this.playerGame.id),y=q.filter(s=>s.completedPass);this.receivingTargets=q.length,this.receivingCompletions=y.length,this.receivingYardage=y.map(s=>s.yardage).reduce((s,Z)=>s+Z,0),this.receivingTds=y.filter(s=>6===s.points).length,this.receivingOnePointConversions=y.filter(s=>1===s.points).length,this.receivingTwoPointConversions=y.filter(s=>2===s.points).length,this.offensiveFumbles+=y.filter(s=>"fumble"===s.turnoverType).length;const L=r.filter(s=>s.flagPuller===this.playerGame.id);this.flagPulls=L.length,this.defensiveSacks=L.filter(s=>s.sack).length;const x=r.filter(s=>s.turnoverPlayer===this.playerGame.id);this.defensiveFumbles=x.filter(s=>"fumble"===s.turnoverType).length,this.defensiveInterceptions=x.filter(s=>"interception"===s.turnoverType).length,this.defensiveTds=x.filter(s=>6===s.points).length,this.defensiveOnePointConversions=x.filter(s=>1===s.points).length,this.defensiveTwoPointConversions=x.filter(s=>2===s.points).length,this.pointsScored=6*(this.rushingTds+this.receivingTds+this.defensiveTds)+2*(this.rushingTwoPointConversions+this.receivingTwoPointConversions+this.defensiveTwoPointConversions)+this.rushingOnePointConversions+this.receivingOnePointConversions+this.defensiveOnePointConversions}}class A{constructor(r,t,i){this.plays=r,this.roster=t,this.teamId=i,this.playerStats=t.map(a=>new S(r,a)),this.score=this.playerStats.map(a=>a.pointsScored).reduce((a,l)=>a+l,0)}}class F{constructor(r){this.game=r,this.homeTeamStats=new A(r.plays,r.homeRoster,r.homeTeamId),this.awayTeamStats=new A(r.plays,r.awayRoster,r.awayTeamId)}}var b,E=c(7328),w=c(7398),C=c(2096);let g=(()=>{class n{static#t=this.LeagueStorageKey="league";#n=new E.t(1);#e;constructor(){this.#e=this.#a(),this.#n.next(this.#e),this.watchLeague$().subscribe({next:t=>this.#i(t)})}watchLeague$(){return this.#n.asObservable()}watchTeam$(t){return this.watchLeague$().pipe((0,w.U)(i=>i.teams.find(a=>a.id===t)))}watchPlayer$(t){return this.watchLeague$().pipe((0,w.U)(i=>i.players.find(a=>a.id===t)))}watchTeams$(){return this.watchLeague$().pipe((0,w.U)(t=>t.teams))}watchPlayers$(){return this.watchLeague$().pipe((0,w.U)(t=>t.players))}#i(t){localStorage.setItem(b.LeagueStorageKey,JSON.stringify(t))}resetLeague(){this.#e={teams:[{name:"Washington",id:"WASH"},{name:"Oregon",id:"ORE"}],players:[{name:"Michael Penix, Jr.",id:"009"},{name:"Bo Nix",id:"010"}]},this.#i(this.#e)}#a(){const t=localStorage.getItem(b.LeagueStorageKey);try{if(this.#e=JSON.parse(t),this.#e)return this.#e}catch{}return this.resetLeague(),this.#e}createTeam(t){if(t.id=t.id.trim(),t.name=t.name.trim(),!t.id||!t.name)throw new Error("Team must have ID and name.");if(this.#e.teams.find(i=>i.name===t.name))throw new Error("Team name already exists.");if(this.#e.teams.find(i=>i.id===t.id))throw new Error("Team ID already exists.");return this.#e.teams.push({...t}),this.#n.next(this.#e),(0,C.of)(t)}createPlayer(t){if(t.id=t.id.trim(),t.name=t.name.trim(),!t.id||!t.name)throw new Error("Player must have ID and name.");if(this.#e.players.find(i=>i.name===t.name))throw new Error("Player name already exists.");if(this.#e.players.find(i=>i.id===t.id))throw new Error("Player ID already exists.");return this.#e.players.push({...t}),this.#n.next(this.#e),(0,C.of)(t)}editTeam(t,i){i.id=i.id.trim(),i.name=i.name.trim();const a=this.#e.teams.find(l=>l.id===t);if(!a)throw new Error("Team being edited does not exist.");if(a.name!=i.name&&this.#e.teams.some(l=>l.name===i.name))throw new Error("Team name already exists.");if(a.id!=i.id&&this.#e.teams.some(l=>l.id===i.id))throw new Error("Team ID already exists.");return a.id=i.id,a.name=i.name,this.#n.next(this.#e),(0,C.of)(a)}editPlayer(t,i){i.id=i.id.trim(),i.name=i.name.trim();const a=this.#e.players.find(l=>l.id===t);if(!a)throw new Error("Player being edited does not exist.");if(a.name!=i.name&&this.#e.players.some(l=>l.name===i.name))throw new Error("Player name already exists.");return a.name=i.name,this.#n.next(this.#e),(0,C.of)(a)}deleteTeam(t){return this.#e.teams=this.#e.teams.filter(i=>i.id!=t),this.#n.next(this.#e),(0,C.of)(!0)}deletePlayer(t){return this.#e.players=this.#e.players.filter(i=>i.id!=t),this.#n.next(this.#e),(0,C.of)(!0)}static#o=this.\u0275fac=function(i){return new(i||n)};static#r=this.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function $(n,r){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.xp6(1),e.HOy(" ",t.playerGame.id," - ",t.passingCompletions,"/",t.passingAttempts," for ",t.passingYardage," yards ")}}b=g;const I=n=>["/","teams",n];function N(n,r){if(1&n&&(e.TgZ(0,"li")(1,"a",0),e._uU(2),e.qZA()()),2&n){const t=r.$implicit;e.xp6(1),e.Q6J("routerLink",e.VKq(2,I,t.id)),e.xp6(1),e.Oqu(t.name)}}function G(n,r){1&n&&(e.TgZ(0,"ul"),e.SjG(1,N,3,4,"li",null,e.ikw),e.qZA()),2&n&&(e.xp6(1),e.wJu(r.teams))}let U=(()=>{class n{#t;constructor(){this.#t=(0,e.f3M)(g),this.league$=this.#t.watchLeague$(),this.gameStats=new F({id:"001",homeTeamId:"01",awayTeamId:"02",homeRoster:[{id:"jd",jersey:"21"},{id:"tommy",jersey:"69"}],awayRoster:[{id:"layla",jersey:"99"}],startTime:0,location:"Lumen Field",status:"Finished",homeScore:0,awayScore:0,plays:[{id:"01",index:0,down:1,distanceToGo:10,yardLine:25,yardage:6,type:"passing",offensiveTeamId:"01",defensiveTeamId:"02",completedPass:!0,earnedFirstDown:!1,points:0,sack:!1,passer:"jd",receiver:"tommy",flagPuller:"layla"}]})}static#n=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275cmp=e.Xpm({type:n,selectors:[["home-page"]],standalone:!0,features:[e.jDz],decls:6,vars:3,consts:[[3,"routerLink"]],template:function(i,a){if(1&i&&(e.TgZ(0,"h1"),e._uU(1,"Home Page"),e.qZA(),e.SjG(2,$,2,4,"div",null,e.ikw),e.YNc(4,G,3,0,"ul"),e.ALo(5,"async")),2&i){let l;e.xp6(2),e.wJu(a.gameStats.homeTeamStats.playerStats),e.xp6(2),e.um2(4,(l=e.lcZ(5,1,a.league$))?4:-1,l)}},dependencies:[p.ez,p.Ov,m.Bz,m.rH,d.d,u.hJ],encapsulation:2})}return n})();var T=c(5592);let j=(()=>{class n{transform(t){return`${t.id} - ${t.name}`}static#t=this.\u0275fac=function(i){return new(i||n)};static#n=this.\u0275pipe=e.Yjl({name:"team",type:n,pure:!0,standalone:!0})}return n})();const M=n=>["/","edit-team",n];function Q(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"h1"),e._uU(1),e.ALo(2,"team"),e.qZA(),e.TgZ(3,"div",0),e._UZ(4,"p-button",1),e.TgZ(5,"p-button",2),e.NdJ("onClick",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.deleteTeam())}),e.qZA()()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,2,r)),e.xp6(3),e.Q6J("routerLink",e.VKq(4,M,r.id)))}function z(n,r){1&n&&(e.TgZ(0,"h1"),e._uU(1,"Team is not found."),e.qZA())}let D=(()=>{class n{constructor(){this.#t=(0,e.f3M)(g),this.#n=(0,e.f3M)(m.F0),this.team$=new T.y}#t;#n;ngOnInit(){this.team$=this.#t.watchTeam$(this.id)}deleteTeam(){this.#t.deleteTeam(this.id).subscribe({next:()=>this.#n.navigate(["/"])})}static#e=this.\u0275fac=function(i){return new(i||n)};static#i=this.\u0275cmp=e.Xpm({type:n,selectors:[["view-team"]],inputs:{id:"id"},standalone:!0,features:[e.jDz],decls:3,vars:3,consts:[[1,"flex","justify-content-end","gap-2"],["label","Edit Team","icon","pi pi-pencil","severity","primary",3,"routerLink"],["label","Delete Team","icon","pi pi-times","severity","danger",3,"onClick"]],template:function(i,a){if(1&i&&(e.YNc(0,Q,6,6),e.ALo(1,"async"),e.YNc(2,z,2,0)),2&i){let l;e.um2(0,(l=e.lcZ(1,1,a.team$))?0:2,l)}},dependencies:[p.ez,p.Ov,m.Bz,m.rH,d.d,u.hJ,u.zx,j],encapsulation:2})}return n})();var o=c(95),h=c(3714),f=c(9502),_=c(3259),v=c(5219);function V(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"p-messages",12),e.NdJ("valueChange",function(a){e.CHM(t);const l=e.oxw();return e.KtG(l.errors=a)}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("value",t.errors)("enableService",!1)}}const H=()=>["/"];function O(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",13)(1,"p-button",14),e.NdJ("onClick",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.createTeamClicked())}),e.qZA(),e._UZ(2,"p-button",15),e.qZA()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("disabled",!t.form.valid||!t.form.dirty),e.xp6(1),e.Q6J("routerLink",e.DdM(2,H))}}const Y=n=>["/","teams",n];function K(n,r){if(1&n&&(e.TgZ(0,"li")(1,"a",16),e._uU(2),e.qZA()()),2&n){const t=r.$implicit;e.xp6(1),e.Q6J("routerLink",e.VKq(3,Y,t.id)),e.xp6(1),e.AsE("",t.id," - ",t.name,"")}}function B(n,r){1&n&&(e.TgZ(0,"ul"),e.SjG(1,K,3,5,"li",null,e.ikw),e.qZA()),2&n&&(e.xp6(1),e.wJu(r))}let X=(()=>{class n{constructor(){this.#t=(0,e.f3M)(g),this.#n=(0,e.f3M)(m.F0),this.#e=(0,e.f3M)(o.qu),this.form=this.#e.group({id:this.#e.nonNullable.control("",[o.kI.required,o.kI.minLength(2),o.kI.maxLength(4)]),name:this.#e.nonNullable.control("",[o.kI.required,o.kI.minLength(4),o.kI.maxLength(25)])}),this.teams$=this.#t.watchTeams$(),this.errors=new Array}#t;#n;#e;createTeamClicked(){if(!this.form.valid)throw new Error("Form is not valid.");const t=this.form.value;this.errors=[];try{this.#t.createTeam({id:t.id,name:t.name}).subscribe({})}catch(i){this.errors.push({severity:"error",summary:"Error",detail:i.message})}}static#i=this.\u0275fac=function(i){return new(i||n)};static#a=this.\u0275cmp=e.Xpm({type:n,selectors:[["create-team"]],standalone:!0,features:[e.jDz],decls:17,vars:7,consts:[[1,"flex","gap-3"],["header","Create Team",1,"w-30rem"],[3,"formGroup","ngSubmit"],[1,"p-fluid"],[1,"field"],["htmlFor","id"],["pInputText","","id","id","formControlName","id","placeholder","Enter an ID","pTooltip","2-4 characters","tooltipPosition","bottom",3,"maxlength"],["htmlFor","name"],["pInputText","","id","name","formControlName","name","placeholder","Enter a name","pTooltip","4-25 characters","tooltipPosition","bottom",3,"maxlength"],[3,"value","enableService"],["pTemplate","footer"],["header","Current Teams",1,"w-15rem"],[3,"value","enableService","valueChange"],[1,"flex","justify-content-end"],["label","Save","icon","pi pi-check","severity","success",3,"disabled","onClick"],["label","Cancel","icon","pi pi-times","severity","danger",1,"ml-2",3,"routerLink"],[3,"routerLink"]],template:function(i,a){if(1&i&&(e.TgZ(0,"div",0)(1,"p-card",1)(2,"form",2),e.NdJ("ngSubmit",function(){return a.form.valid}),e.TgZ(3,"div",3)(4,"div",4)(5,"label",5),e._uU(6,"ID"),e.qZA(),e._UZ(7,"input",6),e.qZA(),e.TgZ(8,"div",4)(9,"label",7),e._uU(10,"Name"),e.qZA(),e._UZ(11,"input",8),e.qZA()()(),e.YNc(12,V,1,2,"p-messages",9)(13,O,3,3,"ng-template",10),e.qZA(),e.TgZ(14,"p-card",11),e.YNc(15,B,3,0,"ul"),e.ALo(16,"async"),e.qZA()()),2&i){let l;e.xp6(2),e.Q6J("formGroup",a.form),e.xp6(5),e.Q6J("maxlength",4),e.xp6(4),e.Q6J("maxlength",25),e.xp6(1),e.um2(12,a.errors.length?12:-1),e.xp6(3),e.um2(15,(l=e.lcZ(16,5,a.teams$))?15:-1,l)}},dependencies:[p.ez,p.Ov,m.Bz,m.rH,d.d,d.Z,v.jx,u.hJ,u.zx,o.UX,o._Y,o.Fj,o.JJ,o.JL,o.nD,o.sg,o.u,h.j,h.o,f.$,f.V,_.z,_.u],encapsulation:2})}return n})();var k=c(9397);function R(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"p-messages",13),e.NdJ("valueChange",function(a){e.CHM(t);const l=e.oxw(2);return e.KtG(l.errors=a)}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("value",t.errors)("enableService",!1)}}const W=()=>["/"];function ee(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",14)(1,"p-button",15),e.NdJ("onClick",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.editTeamClicked())}),e.qZA(),e._UZ(2,"p-button",16),e.qZA()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("disabled",!t.form.valid||!t.form.dirty),e.xp6(1),e.Q6J("routerLink",e.DdM(2,W))}}const te=n=>["/","teams",n];function ne(n,r){if(1&n&&(e.TgZ(0,"li")(1,"a",17),e._uU(2),e.qZA()()),2&n){const t=r.$implicit;e.xp6(1),e.Q6J("routerLink",e.VKq(3,te,t.id)),e.xp6(1),e.AsE("",t.id," - ",t.name,"")}}function ie(n,r){1&n&&(e.TgZ(0,"ul"),e.SjG(1,ne,3,5,"li",null,e.ikw),e.qZA()),2&n&&(e.xp6(1),e.wJu(r))}function ae(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",1)(1,"p-card",2)(2,"form",3),e.NdJ("ngSubmit",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.form.valid)}),e.TgZ(3,"div",4)(4,"div",5)(5,"label",6),e._uU(6,"ID"),e.qZA(),e._UZ(7,"input",7),e.qZA(),e.TgZ(8,"div",5)(9,"label",8),e._uU(10,"Name"),e.qZA(),e._UZ(11,"input",9),e.qZA()()(),e.YNc(12,R,1,2,"p-messages",10)(13,ee,3,3,"ng-template",11),e.qZA(),e.TgZ(14,"p-card",12),e.YNc(15,ie,3,0,"ul"),e.ALo(16,"async"),e.qZA()()}if(2&n){const t=e.oxw();let i;e.xp6(1),e.Q6J("header","Edit Team - "+r.id),e.xp6(1),e.Q6J("formGroup",t.form),e.xp6(5),e.Q6J("maxlength",4),e.xp6(4),e.Q6J("maxlength",25),e.xp6(1),e.um2(12,t.errors.length?12:-1),e.xp6(3),e.um2(15,(i=e.lcZ(16,6,t.teams$))?15:-1,i)}}let oe=(()=>{class n{constructor(){this.#t=(0,e.f3M)(g),this.#n=(0,e.f3M)(m.F0),this.#e=(0,e.f3M)(o.qu),this.form=this.#e.group({id:this.#e.nonNullable.control("",[o.kI.required,o.kI.minLength(2),o.kI.maxLength(4)]),name:this.#e.nonNullable.control("",[o.kI.required,o.kI.minLength(4),o.kI.maxLength(25)])}),this.teams$=this.#t.watchTeams$(),this.errors=new Array,this.team$=new T.y}#t;#n;#e;ngOnInit(){this.team$=this.#t.watchTeam$(this.id).pipe((0,k.b)(t=>{t&&(this.form.controls.id.setValue(t.id),this.form.controls.name.setValue(t.name))}))}editTeamClicked(){if(!this.form.valid)throw new Error("Form is not valid.");const t=this.form.value;this.errors=[];try{this.#t.editTeam(this.id,{id:t.id,name:t.name}).subscribe({next:i=>this.#n.navigate(["/","teams",i.id])})}catch(i){this.errors.push({severity:"error",summary:"Error",detail:i.message})}}static#i=this.\u0275fac=function(i){return new(i||n)};static#a=this.\u0275cmp=e.Xpm({type:n,selectors:[["edit-team"]],inputs:{id:"id"},standalone:!0,features:[e.jDz],decls:2,vars:3,consts:[["class","flex gap-3"],[1,"flex","gap-3"],[1,"w-30rem",3,"header"],[3,"formGroup","ngSubmit"],[1,"p-fluid"],[1,"field"],["htmlFor","id"],["pInputText","","id","id","formControlName","id","placeholder","Enter an ID","pTooltip","2-4 characters","tooltipPosition","bottom",3,"maxlength"],["htmlFor","name"],["pInputText","","id","name","formControlName","name","placeholder","Enter a name","pTooltip","4-25 characters","tooltipPosition","bottom",3,"maxlength"],[3,"value","enableService"],["pTemplate","footer"],["header","Current Teams",1,"w-15rem"],[3,"value","enableService","valueChange"],[1,"flex","justify-content-end"],["label","Save","icon","pi pi-check","severity","success",3,"disabled","onClick"],["label","Cancel","icon","pi pi-times","severity","danger",1,"ml-2",3,"routerLink"],[3,"routerLink"]],template:function(i,a){if(1&i&&(e.YNc(0,ae,17,8,"div",0),e.ALo(1,"async")),2&i){let l;e.um2(0,(l=e.lcZ(1,1,a.team$))?0:-1,l)}},dependencies:[p.ez,p.Ov,m.Bz,m.rH,d.d,d.Z,v.jx,u.hJ,u.zx,o.UX,o._Y,o.Fj,o.JJ,o.JL,o.nD,o.sg,o.u,h.j,h.o,f.$,f.V,_.z,_.u],encapsulation:2})}return n})();function re(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"p-messages",12),e.NdJ("valueChange",function(a){e.CHM(t);const l=e.oxw();return e.KtG(l.errors=a)}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("value",t.errors)("enableService",!1)}}const se=()=>["/"];function le(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",13)(1,"p-button",14),e.NdJ("onClick",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.createPlayerClicked())}),e.qZA(),e._UZ(2,"p-button",15),e.qZA()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("disabled",!t.form.valid||!t.form.dirty),e.xp6(1),e.Q6J("routerLink",e.DdM(2,se))}}const me=n=>["/","players",n];function ce(n,r){if(1&n&&(e.TgZ(0,"li")(1,"a",16),e._uU(2),e.qZA()()),2&n){const t=r.$implicit;e.xp6(1),e.Q6J("routerLink",e.VKq(2,me,t.id)),e.xp6(1),e.Oqu(t.name)}}function pe(n,r){1&n&&(e.TgZ(0,"ul"),e.SjG(1,ce,3,4,"li",null,e.ikw),e.qZA()),2&n&&(e.xp6(1),e.wJu(r))}let ue=(()=>{class n{constructor(){this.#t=(0,e.f3M)(g),this.#n=(0,e.f3M)(m.F0),this.#e=(0,e.f3M)(o.qu),this.form=this.#e.group({id:this.#e.nonNullable.control("",[o.kI.required,o.kI.minLength(2),o.kI.maxLength(4)]),name:this.#e.nonNullable.control("",[o.kI.required,o.kI.minLength(4),o.kI.maxLength(25)])}),this.teams$=this.#t.watchTeams$(),this.players$=this.#t.watchPlayers$(),this.errors=new Array}#t;#n;#e;createPlayerClicked(){if(!this.form.valid)throw new Error("Form is not valid.");const t=this.form.value;this.errors=[];try{this.#t.createPlayer({id:t.id,name:t.name}).subscribe({})}catch(i){this.errors.push({severity:"error",summary:"Error",detail:i.message})}}static#i=this.\u0275fac=function(i){return new(i||n)};static#a=this.\u0275cmp=e.Xpm({type:n,selectors:[["create-player"]],standalone:!0,features:[e.jDz],decls:17,vars:7,consts:[[1,"flex","gap-3"],["header","Create Player",1,"w-30rem"],[3,"formGroup","ngSubmit"],[1,"p-fluid"],[1,"field"],["htmlFor","id"],["pInputText","","id","id","formControlName","id","placeholder","Enter an ID","pTooltip","2-4 characters","tooltipPosition","bottom",3,"maxlength"],["htmlFor","name"],["pInputText","","id","name","formControlName","name","placeholder","Enter a name","pTooltip","4-25 characters","tooltipPosition","bottom",3,"maxlength"],[3,"value","enableService"],["pTemplate","footer"],["header","Current Players",1,"w-15rem"],[3,"value","enableService","valueChange"],[1,"flex","justify-content-end"],["label","Save","icon","pi pi-check","severity","success",3,"disabled","onClick"],["label","Cancel","icon","pi pi-times","severity","danger",1,"ml-2",3,"routerLink"],[3,"routerLink"]],template:function(i,a){if(1&i&&(e.TgZ(0,"div",0)(1,"p-card",1)(2,"form",2),e.NdJ("ngSubmit",function(){return a.form.valid}),e.TgZ(3,"div",3)(4,"div",4)(5,"label",5),e._uU(6,"ID"),e.qZA(),e._UZ(7,"input",6),e.qZA(),e.TgZ(8,"div",4)(9,"label",7),e._uU(10,"Name"),e.qZA(),e._UZ(11,"input",8),e.qZA()()(),e.YNc(12,re,1,2,"p-messages",9)(13,le,3,3,"ng-template",10),e.qZA(),e.TgZ(14,"p-card",11),e.YNc(15,pe,3,0,"ul"),e.ALo(16,"async"),e.qZA()()),2&i){let l;e.xp6(2),e.Q6J("formGroup",a.form),e.xp6(5),e.Q6J("maxlength",4),e.xp6(4),e.Q6J("maxlength",25),e.xp6(1),e.um2(12,a.errors.length?12:-1),e.xp6(3),e.um2(15,(l=e.lcZ(16,5,a.players$))?15:-1,l)}},dependencies:[p.ez,p.Ov,m.Bz,m.rH,d.d,d.Z,v.jx,u.hJ,u.zx,o.UX,o._Y,o.Fj,o.JJ,o.JL,o.nD,o.sg,o.u,h.j,h.o,f.$,f.V,_.z,_.u],encapsulation:2})}return n})(),de=(()=>{class n{transform(t){return`${t.name}`}static#t=this.\u0275fac=function(i){return new(i||n)};static#n=this.\u0275pipe=e.Yjl({name:"player",type:n,pure:!0,standalone:!0})}return n})();const he=n=>["/","edit-player",n];function fe(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"h1"),e._uU(1),e.ALo(2,"player"),e.qZA(),e.TgZ(3,"div",0),e._UZ(4,"p-button",1),e.TgZ(5,"p-button",2),e.NdJ("onClick",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.deletePlayer())}),e.qZA()()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,2,r)),e.xp6(3),e.Q6J("routerLink",e.VKq(4,he,r.id)))}function _e(n,r){1&n&&(e.TgZ(0,"h1"),e._uU(1,"Team is not found."),e.qZA())}let ge=(()=>{class n{constructor(){this.#t=(0,e.f3M)(g),this.#n=(0,e.f3M)(m.F0),this.team$=new T.y,this.player$=new T.y}#t;#n;ngOnInit(){this.player$=this.#t.watchPlayer$(this.id)}deletePlayer(){this.#t.deletePlayer(this.id).subscribe({next:()=>this.#n.navigate(["/"])})}static#e=this.\u0275fac=function(i){return new(i||n)};static#i=this.\u0275cmp=e.Xpm({type:n,selectors:[["view-player"]],inputs:{id:"id"},standalone:!0,features:[e.jDz],decls:3,vars:3,consts:[[1,"flex","justify-content-end","gap-2"],["label","Edit Player","icon","pi pi-pencil","severity","primary",3,"routerLink"],["label","Delete Player","icon","pi pi-times","severity","danger",3,"onClick"]],template:function(i,a){if(1&i&&(e.YNc(0,fe,6,6),e.ALo(1,"async"),e.YNc(2,_e,2,0)),2&i){let l;e.um2(0,(l=e.lcZ(1,1,a.player$))?0:2,l)}},dependencies:[p.ez,p.Ov,m.Bz,m.rH,d.d,u.hJ,u.zx,de],encapsulation:2})}return n})();function Ce(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"p-messages",11),e.NdJ("valueChange",function(a){e.CHM(t);const l=e.oxw(2);return e.KtG(l.errors=a)}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("value",t.errors)("enableService",!1)}}const Te=()=>["/"];function ye(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",12)(1,"p-button",13),e.NdJ("onClick",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.editPlayerClicked())}),e.qZA(),e._UZ(2,"p-button",14),e.qZA()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("disabled",!t.form.valid||!t.form.dirty),e.xp6(1),e.Q6J("routerLink",e.DdM(2,Te))}}const ve=n=>["/","players",n];function xe(n,r){if(1&n&&(e.TgZ(0,"li")(1,"a",15),e._uU(2),e.qZA()()),2&n){const t=r.$implicit;e.xp6(1),e.Q6J("routerLink",e.VKq(2,ve,t.id)),e.xp6(1),e.Oqu(t.name)}}function Ze(n,r){1&n&&(e.TgZ(0,"ul"),e.SjG(1,xe,3,4,"li",null,e.ikw),e.qZA()),2&n&&(e.xp6(1),e.wJu(r))}function we(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",1)(1,"p-card",2)(2,"form",3),e.NdJ("ngSubmit",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.form.valid)}),e.TgZ(3,"div",4)(4,"div",5)(5,"label",6),e._uU(6,"Name"),e.qZA(),e._UZ(7,"input",7),e.qZA()()(),e.YNc(8,Ce,1,2,"p-messages",8)(9,ye,3,3,"ng-template",9),e.qZA(),e.TgZ(10,"p-card",10),e.YNc(11,Ze,3,0,"ul"),e.ALo(12,"async"),e.qZA()()}if(2&n){const t=e.oxw();let i;e.xp6(1),e.Q6J("header","Edit Player - "+r.id),e.xp6(1),e.Q6J("formGroup",t.form),e.xp6(5),e.Q6J("maxlength",25),e.xp6(1),e.um2(8,t.errors.length?8:-1),e.xp6(3),e.um2(11,(i=e.lcZ(12,5,t.players$))?11:-1,i)}}let be=(()=>{class n{constructor(){this.#t=(0,e.f3M)(g),this.#n=(0,e.f3M)(m.F0),this.#e=(0,e.f3M)(o.qu),this.form=this.#e.group({name:this.#e.nonNullable.control("",[o.kI.required,o.kI.minLength(4),o.kI.maxLength(25)])}),this.teams$=this.#t.watchTeams$(),this.players$=this.#t.watchPlayers$(),this.errors=new Array,this.team$=new T.y,this.player$=new T.y}#t;#n;#e;ngOnInit(){this.player$=this.#t.watchPlayer$(this.id).pipe((0,k.b)(t=>{t&&this.form.controls.name.setValue(t.name)}))}editPlayerClicked(){if(!this.form.valid)throw new Error("Form is not valid.");const t=this.form.value;this.errors=[];try{this.#t.editPlayer(this.id,{id:this.id,name:t.name}).subscribe({next:i=>this.#n.navigate(["/","players",this.id])})}catch(i){this.errors.push({severity:"error",summary:"Error",detail:i.message})}}static#i=this.\u0275fac=function(i){return new(i||n)};static#a=this.\u0275cmp=e.Xpm({type:n,selectors:[["edit-player"]],inputs:{id:"id"},standalone:!0,features:[e.jDz],decls:2,vars:3,consts:[["class","flex gap-3"],[1,"flex","gap-3"],[1,"w-30rem",3,"header"],[3,"formGroup","ngSubmit"],[1,"p-fluid"],[1,"field"],["htmlFor","name"],["pInputText","","id","name","formControlName","name","placeholder","Enter a name","pTooltip","4-25 characters","tooltipPosition","bottom",3,"maxlength"],[3,"value","enableService"],["pTemplate","footer"],["header","Current Players",1,"w-15rem"],[3,"value","enableService","valueChange"],[1,"flex","justify-content-end"],["label","Save","icon","pi pi-check","severity","success",3,"disabled","onClick"],["label","Cancel","icon","pi pi-times","severity","danger",1,"ml-2",3,"routerLink"],[3,"routerLink"]],template:function(i,a){if(1&i&&(e.YNc(0,we,13,7,"div",0),e.ALo(1,"async")),2&i){let l;e.um2(0,(l=e.lcZ(1,1,a.player$))?0:-1,l)}},dependencies:[p.ez,p.Ov,m.Bz,m.rH,d.d,d.Z,v.jx,u.hJ,u.zx,o.UX,o._Y,o.Fj,o.JJ,o.JL,o.nD,o.sg,o.u,h.j,h.o,f.$,f.V,_.z,_.u],encapsulation:2})}return n})();var J=c(3965);function Pe(n,r){return t=>{const i=t.value[n],a=t.value[r];return i&&a&&i===a?{fieldsMustBeDifferent:!0}:null}}function Ae(n,r){1&n&&(e.TgZ(0,"div",18),e._uU(1," Teams must be different. "),e.qZA())}function ke(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"p-messages",19),e.NdJ("valueChange",function(a){e.CHM(t);const l=e.oxw();return e.KtG(l.errors=a)}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("value",t.errors)("enableService",!1)}}const Je=()=>["/"];function qe(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",20)(1,"p-button",21),e.NdJ("onClick",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.createGameClicked())}),e.qZA(),e._UZ(2,"p-button",22),e.qZA()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("disabled",!t.form.valid||!t.form.dirty),e.xp6(1),e.Q6J("routerLink",e.DdM(2,Je))}}const Le=n=>["/","players",n];function Se(n,r){if(1&n&&(e.TgZ(0,"li")(1,"a",23),e._uU(2),e.qZA()()),2&n){const t=r.$implicit;e.xp6(1),e.Q6J("routerLink",e.VKq(2,Le,t.id)),e.xp6(1),e.Oqu(t.name)}}function Fe(n,r){1&n&&(e.TgZ(0,"ul"),e.SjG(1,Se,3,4,"li",null,e.ikw),e.qZA()),2&n&&(e.xp6(1),e.wJu(r))}const Ee=n=>["/","teams",n];function $e(n,r){if(1&n&&(e.TgZ(0,"li")(1,"a",23),e._uU(2),e.qZA()()),2&n){const t=r.$implicit;e.xp6(1),e.Q6J("routerLink",e.VKq(3,Ee,t.id)),e.xp6(1),e.AsE("",t.id," - ",t.name,"")}}function Ie(n,r){1&n&&(e.TgZ(0,"ul"),e.SjG(1,$e,3,5,"li",null,e.ikw),e.qZA()),2&n&&(e.xp6(1),e.wJu(r))}let Ne=(()=>{class n{constructor(){this.#t=(0,e.f3M)(g),this.#n=(0,e.f3M)(m.F0),this.#e=(0,e.f3M)(o.qu),this.form=this.#e.group({id:this.#e.nonNullable.control("",[o.kI.required,o.kI.minLength(2),o.kI.maxLength(4)]),name:this.#e.nonNullable.control("",[o.kI.required,o.kI.minLength(4),o.kI.maxLength(25)]),awayTeam:this.#e.nonNullable.control("",[o.kI.required]),homeTeam:this.#e.nonNullable.control("",[o.kI.required])},{validators:[Pe("awayTeam","homeTeam")]}),this.teams$=this.#t.watchTeams$(),this.players$=this.#t.watchPlayers$(),this.errors=new Array}#t;#n;#e;createGameClicked(){if(!this.form.valid)throw new Error("Form is not valid.");const t=this.form.value;this.errors=[];try{this.#t.createPlayer({id:t.id,name:t.name}).subscribe({})}catch(i){this.errors.push({severity:"error",summary:"Error",detail:i.message})}}static#i=this.\u0275fac=function(i){return new(i||n)};static#a=this.\u0275cmp=e.Xpm({type:n,selectors:[["create-game"]],standalone:!0,features:[e.jDz],decls:31,vars:17,consts:[[1,"flex","gap-3"],["header","Create Game",1,"w-30rem"],[3,"formGroup","ngSubmit"],[1,"p-fluid"],[1,"field"],["htmlFor","id"],["pInputText","","id","id","formControlName","id","placeholder","Enter an ID","pTooltip","2-4 characters","tooltipPosition","bottom",3,"maxlength"],["htmlFor","name"],["pInputText","","id","name","formControlName","name","placeholder","Enter a name","pTooltip","4-25 characters","tooltipPosition","bottom",3,"maxlength"],["htmlFor","awayTeam"],["id","awayTeam","formControlName","awayTeam","optionLabel","name","optionValue","id","placeholder","Select a Team",3,"options"],["htmlFor","homeTeam"],["id","homeTeam","formControlName","homeTeam","optionLabel","name","optionValue","id","placeholder","Select a Team",3,"options"],["class","text-red-500"],[3,"value","enableService"],["pTemplate","footer"],["header","Current Players",1,"w-15rem"],["header","Current Teams",1,"w-15rem"],[1,"text-red-500"],[3,"value","enableService","valueChange"],[1,"flex","justify-content-end"],["label","Save","icon","pi pi-check","severity","success",3,"disabled","onClick"],["label","Cancel","icon","pi pi-times","severity","danger",1,"ml-2",3,"routerLink"],[3,"routerLink"]],template:function(i,a){if(1&i&&(e.TgZ(0,"div",0)(1,"p-card",1)(2,"form",2),e.NdJ("ngSubmit",function(){return a.form.valid}),e.TgZ(3,"div",3)(4,"div",4)(5,"label",5),e._uU(6,"ID"),e.qZA(),e._UZ(7,"input",6),e.qZA(),e.TgZ(8,"div",4)(9,"label",7),e._uU(10,"Name"),e.qZA(),e._UZ(11,"input",8),e.qZA(),e.TgZ(12,"div",4)(13,"label",9),e._uU(14,"Away Team"),e.qZA(),e._UZ(15,"p-dropdown",10),e.ALo(16,"async"),e.qZA(),e.TgZ(17,"div",4)(18,"label",11),e._uU(19,"Home Team"),e.qZA(),e._UZ(20,"p-dropdown",12),e.ALo(21,"async"),e.qZA(),e.YNc(22,Ae,2,0,"div",13),e.qZA()(),e.YNc(23,ke,1,2,"p-messages",14)(24,qe,3,3,"ng-template",15),e.qZA(),e.TgZ(25,"p-card",16),e.YNc(26,Fe,3,0,"ul"),e.ALo(27,"async"),e.qZA(),e.TgZ(28,"p-card",17),e.YNc(29,Ie,3,0,"ul"),e.ALo(30,"async"),e.qZA()()),2&i){let l;e.xp6(2),e.Q6J("formGroup",a.form),e.xp6(5),e.Q6J("maxlength",4),e.xp6(4),e.Q6J("maxlength",25),e.xp6(4),e.Q6J("options",e.lcZ(16,9,a.teams$)),e.xp6(5),e.Q6J("options",e.lcZ(21,11,a.teams$)),e.xp6(2),e.um2(22,null!=a.form.errors&&a.form.errors.fieldsMustBeDifferent?22:-1),e.xp6(1),e.um2(23,a.errors.length?23:-1),e.xp6(3),e.um2(26,(l=e.lcZ(27,13,a.players$))?26:-1,l),e.xp6(3),e.um2(29,(l=e.lcZ(30,15,a.teams$))?29:-1,l)}},dependencies:[p.ez,p.Ov,m.Bz,m.rH,d.d,d.Z,v.jx,u.hJ,u.zx,o.UX,o._Y,o.Fj,o.JJ,o.JL,o.nD,o.sg,o.u,h.j,h.o,f.$,f.V,_.z,_.u,J.kW,J.Lt],encapsulation:2})}return n})(),Ge=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#n=this.\u0275mod=e.oAB({type:n});static#e=this.\u0275inj=e.cJS({imports:[m.Bz.forChild([{path:"",component:U},{path:"teams/:id",component:D},{path:"players/:id",component:ge},{path:"create-team",component:X},{path:"create-player",component:ue},{path:"create-game",component:Ne},{path:"edit-team/:id",component:oe},{path:"edit-player/:id",component:be}]),m.Bz]})}return n})()}}]);