"use strict";(self.webpackChunkgoalpost_primeng=self.webpackChunkgoalpost_primeng||[]).push([[1092],{2423:(Z,g,r)=>{r.r(g),r.d(g,{LeagueSiteRoutingModule:()=>Y});var c=r(2129),p=r(6814),e=r(9467),f=r(707),v=r(4532);class x{constructor(a,n){this.plays=a,this.playerGame=n;const s=a.filter(t=>t.passer===this.playerGame.id),o=s.filter(t=>t.completedPass);this.passingAttempts=s.length,this.passingCompletions=o.length,this.passingYardage=o.map(t=>t.yardage).reduce((t,u)=>t+u,0),this.passingTds=o.filter(t=>6===t.points).length,this.passingOnePointConversions=o.filter(t=>1===t.points).length,this.passingTwoPointConversions=o.filter(t=>2===t.points).length,this.passingInterceptions=s.filter(t=>"interception"===t.turnoverType).length;const l=a.filter(t=>t.rusher===this.playerGame.id);this.rushingAttempts=l.length,this.rushingYardage=l.map(t=>t.yardage).reduce((t,u)=>t+u,0),this.rushingTds=l.filter(t=>6===t.points).length,this.rushingOnePointConversions=l.filter(t=>1===t.points).length,this.rushingTwoPointConversions=l.filter(t=>2===t.points).length,this.offensiveFumbles=l.filter(t=>"fumble"===t.turnoverType).length,this.offensiveSacks=l.filter(t=>t.sack).length;const P=a.filter(t=>t.receiver===this.playerGame.id),h=P.filter(t=>t.completedPass);this.receivingTargets=P.length,this.receivingCompletions=h.length,this.receivingYardage=h.map(t=>t.yardage).reduce((t,u)=>t+u,0),this.receivingTds=h.filter(t=>6===t.points).length,this.receivingOnePointConversions=h.filter(t=>1===t.points).length,this.receivingTwoPointConversions=h.filter(t=>2===t.points).length,this.offensiveFumbles+=h.filter(t=>"fumble"===t.turnoverType).length;const S=a.filter(t=>t.flagPuller===this.playerGame.id);this.flagPulls=S.length,this.defensiveSacks=S.filter(t=>t.sack).length;const d=a.filter(t=>t.turnoverPlayer===this.playerGame.id);this.defensiveFumbles=d.filter(t=>"fumble"===t.turnoverType).length,this.defensiveInterceptions=d.filter(t=>"interception"===t.turnoverType).length,this.defensiveTds=d.filter(t=>6===t.points).length,this.defensiveOnePointConversions=d.filter(t=>1===t.points).length,this.defensiveTwoPointConversions=d.filter(t=>2===t.points).length,this.pointsScored=6*(this.rushingTds+this.receivingTds+this.defensiveTds)+2*(this.rushingTwoPointConversions+this.receivingTwoPointConversions+this.defensiveTwoPointConversions)+this.rushingOnePointConversions+this.receivingOnePointConversions+this.defensiveOnePointConversions}}class C{constructor(a,n,s){this.plays=a,this.roster=n,this.teamId=s,this.playerStats=n.map(o=>new x(a,o)),this.score=this.playerStats.map(o=>o.pointsScored).reduce((o,l)=>o+l,0)}}class I{constructor(a){this.game=a,this.homeTeamStats=new C(a.plays,a.homeRoster,a.homeTeamId),this.awayTeamStats=new C(a.plays,a.awayRoster,a.awayTeamId)}}var y,L=r(7328),b=r(7398),F=r(2096);let T=(()=>{class i{static#t=this.LeagueStorageKey="league";#i=new L.t(1);#e;constructor(){this.#e=this.#a(),this.#e||this.#s(),this.#i.next(this.#e),this.watchLeague$().subscribe({next:n=>this.#n(n)})}watchLeague$(){return this.#i.asObservable()}watchTeam$(n){return this.watchLeague$().pipe((0,b.U)(s=>s.teams.find(o=>o.id===n)))}#n(n){localStorage.setItem(y.LeagueStorageKey,JSON.stringify(n))}#s(){this.#n({teams:[{name:"Washington",id:"0"},{name:"Oregon",id:"1"}]}),this.#e=this.#a()}#a(){let n=localStorage.getItem(y.LeagueStorageKey);return n||(this.#n(this.#e),n=JSON.stringify(this.#e)),JSON.parse(n)}createTeam(n){if(!n.id||!n.name)throw new Error("Team must have ID and name.");if(this.#e.teams.find(s=>s.id===n.id||s.name===n.name))throw new Error("Team already exists.");return this.#e.teams.push({...n}),this.#i.next(this.#e),(0,F.of)(n)}static#o=this.\u0275fac=function(s){return new(s||i)};static#r=this.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function A(i,a){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&i){const n=a.$implicit;e.xp6(1),e.HOy(" ",n.playerGame.id," - ",n.passingCompletions,"/",n.passingAttempts," for ",n.passingYardage," yards ")}}y=T;const O=i=>["/","teams",i];function j(i,a){if(1&i&&(e.TgZ(0,"li")(1,"a",0),e._uU(2),e.qZA()()),2&i){const n=a.$implicit;e.xp6(1),e.Q6J("routerLink",e.VKq(2,O,n.id)),e.xp6(1),e.Oqu(n.name)}}function J(i,a){1&i&&(e.TgZ(0,"ul"),e.SjG(1,j,3,4,"li",null,e.ikw),e.qZA()),2&i&&(e.xp6(1),e.wJu(a.teams))}let k=(()=>{class i{#t;constructor(){this.#t=(0,e.f3M)(T),this.league$=this.#t.watchLeague$(),this.gameStats=new I({id:"001",homeTeamId:"01",awayTeamId:"02",homeRoster:[{id:"jd",jersey:"21"},{id:"tommy",jersey:"69"}],awayRoster:[{id:"layla",jersey:"99"}],startTime:0,location:"Lumen Field",status:"Finished",homeScore:0,awayScore:0,plays:[{id:"01",index:0,down:1,distanceToGo:10,yardLine:25,yardage:6,type:"passing",offensiveTeamId:"01",defensiveTeamId:"02",completedPass:!0,earnedFirstDown:!1,points:0,sack:!1,passer:"jd",receiver:"tommy",flagPuller:"layla"}]})}static#i=this.\u0275fac=function(s){return new(s||i)};static#e=this.\u0275cmp=e.Xpm({type:i,selectors:[["home-page"]],standalone:!0,features:[e.jDz],decls:6,vars:3,consts:[[3,"routerLink"]],template:function(s,o){if(1&s&&(e.TgZ(0,"h1"),e._uU(1,"Home Page"),e.qZA(),e.SjG(2,A,2,4,"div",null,e.ikw),e.YNc(4,J,3,0,"ul"),e.ALo(5,"async")),2&s){let l;e.xp6(2),e.wJu(o.gameStats.homeTeamStats.playerStats),e.xp6(2),e.um2(4,(l=e.lcZ(5,1,o.league$))?4:-1,l)}},dependencies:[p.ez,p.Ov,c.Bz,c.rH,v.d,f.hJ],encapsulation:2})}return i})();var G=r(5592);function N(i,a){1&i&&(e.TgZ(0,"h1"),e._uU(1),e.qZA()),2&i&&(e.xp6(1),e.Oqu(a.name))}function z(i,a){1&i&&(e.TgZ(0,"h1"),e._uU(1,"Team is not found."),e.qZA())}let $=(()=>{class i{constructor(){this.#t=(0,e.f3M)(T),this.team$=new G.y}#t;ngOnInit(){this.team$=this.#t.watchTeam$(this.id)}static#i=this.\u0275fac=function(s){return new(s||i)};static#e=this.\u0275cmp=e.Xpm({type:i,selectors:[["view-team"]],inputs:{id:"id"},standalone:!0,features:[e.jDz],decls:3,vars:3,template:function(s,o){if(1&s&&(e.YNc(0,N,2,1,"h1"),e.ALo(1,"async"),e.YNc(2,z,2,0)),2&s){let l;e.um2(0,(l=e.lcZ(1,1,o.team$))?0:2,l)}},dependencies:[p.ez,p.Ov,c.Bz,v.d,f.hJ],encapsulation:2})}return i})();var m=r(95),w=r(3714),U=r(5219);const _=()=>["/"];function H(i,a){if(1&i){const n=e.EpF();e.TgZ(0,"div",9)(1,"p-button",10),e.NdJ("onClick",function(){e.CHM(n);const o=e.oxw();return e.KtG(o.createTeam())}),e.qZA(),e._UZ(2,"p-button",11),e.qZA()}if(2&i){const n=e.oxw();e.xp6(1),e.Q6J("disabled",!n.form.valid||!n.form.dirty),e.xp6(1),e.Q6J("routerLink",e.DdM(2,_))}}let D=(()=>{class i{constructor(){this.#t=(0,e.f3M)(T),this.#i=(0,e.f3M)(c.F0),this.#e=(0,e.f3M)(m.qu),this.form=this.#e.group({id:this.#e.nonNullable.control("",[m.kI.required,m.kI.minLength(2),m.kI.maxLength(3)]),name:this.#e.nonNullable.control("",[m.kI.required,m.kI.minLength(5),m.kI.maxLength(25)])})}#t;#i;#e;createTeam(){if(!this.form.valid)throw new Error("Form is not valid.");const n=this.form.value;this.#t.createTeam({id:n.id,name:n.name}).subscribe({next:s=>this.#i.navigate(["/","teams",s.id])})}static#n=this.\u0275fac=function(s){return new(s||i)};static#s=this.\u0275cmp=e.Xpm({type:i,selectors:[["create-team"]],standalone:!0,features:[e.jDz],decls:12,vars:1,consts:[["header","Create Team","styleClass","w-30rem"],[3,"formGroup","ngSubmit"],[1,"p-fluid"],[1,"field"],["htmlFor","id"],["pInputText","","id","id","formControlName","id","placeholder","Enter an id (2-3 char)"],["htmlFor","name"],["pInputText","","id","name","formControlName","name","placeholder","Enter a name (5-25 char)"],["pTemplate","footer"],[1,"flex","justify-content-end"],["label","Save","icon","pi pi-check","severity","success",3,"disabled","onClick"],["label","Cancel","icon","pi pi-times","severity","danger",1,"ml-2",3,"routerLink"]],template:function(s,o){1&s&&(e.TgZ(0,"p-card",0)(1,"form",1),e.NdJ("ngSubmit",function(){return o.form.valid}),e.TgZ(2,"div",2)(3,"div",3)(4,"label",4),e._uU(5,"ID"),e.qZA(),e._UZ(6,"input",5),e.qZA(),e.TgZ(7,"div",3)(8,"label",6),e._uU(9,"Name"),e.qZA(),e._UZ(10,"input",7),e.qZA()()(),e.YNc(11,H,3,3,"ng-template",8),e.qZA()),2&s&&(e.xp6(1),e.Q6J("formGroup",o.form))},dependencies:[p.ez,c.Bz,c.rH,v.d,v.Z,U.jx,f.hJ,f.zx,m.UX,m._Y,m.Fj,m.JJ,m.JL,m.sg,m.u,w.j,w.o],encapsulation:2})}return i})(),Y=(()=>{class i{static#t=this.\u0275fac=function(s){return new(s||i)};static#i=this.\u0275mod=e.oAB({type:i});static#e=this.\u0275inj=e.cJS({imports:[c.Bz.forChild([{path:"",component:k},{path:"teams/:id",component:$},{path:"create-team",component:D}]),c.Bz]})}return i})()},4552:(Z,g,r)=>{r.d(g,{l:()=>c});const c={now:()=>(c.delegate||Date).now(),delegate:void 0}}}]);