"use strict";(self.webpackChunkgoalpost_primeng=self.webpackChunkgoalpost_primeng||[]).push([[2472],{6279:(P,_,c)=>{c.r(_),c.d(_,{GoalpostRoutingModule:()=>R});var p=c(1430),d=c(6814),t=c(9467),r=c(95),m=c(707),v=c(3904),l=c(5219);function J(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"p-button",3),t.NdJ("onClick",function(){t.CHM(e),t.oxw();const s=t.MAs(1);return t.KtG(s.accept())}),t.qZA(),t.TgZ(1,"p-button",4),t.NdJ("onClick",function(){t.CHM(e),t.oxw();const s=t.MAs(1);return t.KtG(s.reject())}),t.qZA()}if(2&n){const e=t.oxw();t.s9C("label",e.confirmText),t.s9C("styleClass",e.confirmStyleClass),t.xp6(1),t.s9C("label",e.rejectText),t.s9C("styleClass",e.rejectStyleClass)}}let Y=(()=>{class n{constructor(){this.confirmText="Confirm",this.confirmStyleClass="p-button-success",this.rejectText="Cancel",this.rejectStyleClass="p-button-secondary",this.key=""}static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275cmp=t.Xpm({type:n,selectors:[["confirm-dialog"]],inputs:{confirmText:"confirmText",confirmStyleClass:"confirmStyleClass",rejectText:"rejectText",rejectStyleClass:"rejectStyleClass",key:"key",appendTo:"appendTo"},standalone:!0,features:[t.jDz],decls:3,vars:2,consts:[["styleClass","w-30rem",3,"key","appendTo"],["confirmDialog",""],["pTemplate","footer"],["icon","pi pi-trash",3,"label","styleClass","onClick"],["icon","pi pi-undo",3,"label","styleClass","onClick"]],template:function(o,s){1&o&&(t.TgZ(0,"p-confirmDialog",0,1),t.YNc(2,J,2,4,"ng-template",2),t.qZA()),2&o&&t.Q6J("key",s.key)("appendTo",s.appendTo)},dependencies:[v.D,v.Q,m.zx,l.jx,m.hJ],encapsulation:2})}return n})();class j{constructor(i,e){this.name=i,this.schoolYears=e}}class y{constructor(i,e=[]){this.title=i,this.terms=e,this.id=crypto.randomUUID().slice(-8)}}class w{constructor(i,e){this.title=i,this.courses=e,this.id=crypto.randomUUID().slice(-8)}}class Z{constructor(i,e){this.title=i,this.categories=e,this.id=crypto.randomUUID().slice(-8),this.percentage=e.map(a=>a.contribution).reduce((a,f)=>a+f,0);const s=e.filter(a=>a.countedAssignments.length).map(a=>a.weight).reduce((a,f)=>a+f,0);s>0&&(this.percentage/=s)}}class A{constructor(i,e,o){this.title=i,this.weight=e,this.assignments=o,this.id=crypto.randomUUID().slice(-8),this.countedAssignments=o,this.totalPoints=this.countedAssignments.map(s=>s.totalPoints).reduce((s,a)=>s+a,0),this.earnedPoints=this.countedAssignments.map(s=>s.earnedPoints).reduce((s,a)=>s+a,0),this.percentage=this.totalPoints?this.earnedPoints/this.totalPoints:0,this.contribution=this.percentage*this.weight}}class C{constructor(i,e,o,s){this.title=i,this.totalPoints=e,this.earnedPoints=o,this.status=s,this.id=crypto.randomUUID().slice(-8)}}var x,N=c(7328),h=c(2096),u=c(4664),g=c(8180);let T=(()=>{class n{static#e=this.StudentStorageKey="student";#t=new N.t(1);#n=new j("JD Kaim",[new y("2021-2022",[new w("S2",[new Z("AP Calculus BC",[new A("Assessments",.9,[new C("Unit 1 Test",100,100,"Complete")])])])]),new y("2022-2023",[new w("S2",[new Z("AP Statistics",[new A("Assessments",.9,[new C("Unit 1 Test",100,87.5,"Complete"),new C("Unit 1 Homework",20,19,"Complete"),new C("Unit 1 Participation",7,6,"Complete")])])])])]);constructor(){this.#t.next(this.#o())}watchStudent$(){return this.#t.asObservable()}updateStudent(e){return this.#s(e),this.#t.next(e),(0,h.of)(e)}resetStudent(){this.updateStudent(this.#n)}watchSchoolYear$(e){return this.watchStudent$().pipe((0,u.w)(o=>(0,h.of)(o.schoolYears.find(s=>s.id===e))))}createSchoolYear(e){const o=new y(e);return this.watchStudent$().pipe((0,g.q)(1),(0,u.w)(s=>(s.schoolYears.push(o),this.updateStudent(s).pipe((0,u.w)(()=>(0,h.of)(o))))))}updateSchoolYear(e,o){return this.watchStudent$().pipe((0,g.q)(1),(0,u.w)(s=>{const a=s.schoolYears.find(f=>f.id===e);return a?(a.title=o,this.updateStudent(s).pipe((0,g.q)(1),(0,u.w)(()=>(0,h.of)(a)))):(0,h.of)(void 0)}))}deleteSchoolYear(e){return this.watchStudent$().pipe((0,g.q)(1),(0,u.w)(o=>(o.schoolYears=o.schoolYears.filter(s=>s.id!==e),this.updateStudent(o).pipe((0,u.w)(()=>(0,h.of)(!0))))))}#s(e){localStorage.setItem(x.StudentStorageKey,JSON.stringify(e))}#o(){let e=localStorage.getItem(x.StudentStorageKey);return e||(this.#s(this.#n),e=JSON.stringify(this.#n)),JSON.parse(e)}static#i=this.\u0275fac=function(o){return new(o||n)};static#a=this.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();x=T;var S=c(4532),b=c(3714);function U(n,i){1&n&&(t.TgZ(0,"span"),t._uU(1,"Edit School Year"),t.qZA())}function D(n,i){1&n&&t._uU(0,"Create School Year")}function I(n,i){if(1&n&&(t.TgZ(0,"h1"),t.YNc(1,U,2,0,"span",8)(2,D,1,0,"ng-template",null,9,t.W1O),t.qZA()),2&n){const e=t.MAs(3),o=t.oxw();t.xp6(1),t.Q6J("ngIf",o.id)("ngIfElse",e)}}function M(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"p-button",14),t.NdJ("onClick",function(){t.CHM(e);const s=t.oxw(3);return t.KtG(s.onSaveClicked())}),t.qZA()}if(2&n){const e=t.oxw(3);t.Q6J("disabled",!e.form.valid||!e.form.dirty)}}function F(n,i){if(1&n){const e=t.EpF();t.ynx(0),t.YNc(1,M,1,1,"p-button",12),t.TgZ(2,"p-button",13),t.NdJ("onClick",function(){t.CHM(e);const s=t.oxw(2);return t.KtG(s.onDeleteClicked())}),t.qZA(),t.BQk()}if(2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.id)}}function z(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"p-button",16),t.NdJ("onClick",function(){t.CHM(e);const s=t.oxw(3);return t.KtG(s.onCreateClicked())}),t.qZA()}if(2&n){const e=t.oxw(3);t.Q6J("disabled",!e.form.valid)}}function q(n,i){if(1&n&&t.YNc(0,z,1,1,"p-button",15),2&n){const e=t.oxw(2);t.Q6J("ngIf",!e.id)}}function Q(n,i){if(1&n&&(t.TgZ(0,"div",10),t.YNc(1,F,3,1,"ng-container",8)(2,q,1,1,"ng-template",null,11,t.W1O),t.qZA()),2&n){const e=t.MAs(3),o=t.oxw();t.xp6(1),t.Q6J("ngIf",o.id)("ngIfElse",e)}}let k=(()=>{class n{constructor(){this.#e=(0,t.f3M)(T),this.#t=(0,t.f3M)(p.F0),this.#n=(0,t.f3M)(r.qu),this.#s=(0,t.f3M)(l.YP),this.#o=(0,t.f3M)(l.ez),this.id="",this.form=this.#n.group({title:this.#n.control("",[r.kI.required])})}#e;#t;#n;#s;#o;ngOnInit(){this.id&&this.#e.watchSchoolYear$(this.id).pipe((0,g.q)(1)).subscribe({next:e=>{if(!e)return this.#o.add({severity:"danger",summary:"Unable to load this year"}),void this.#t.navigate(["/"]);this.form.controls.title.setValue(e.title)}})}onDeleteClicked(){this.#s.confirm({header:"Are you sure?",message:"Are you sure that you want to delete this school year?",key:"cancel",icon:"pi pi-trash",accept:()=>{this.#e.deleteSchoolYear(this.id).subscribe({next:()=>this.#t.navigate([""])})}})}onCreateClicked(){this.#e.createSchoolYear(this.form.value.title).subscribe({next:e=>{e?this.#t.navigate(["school-year",e.id]):this.#o.add({severity:"danger",summary:"An error occurred while creating"})}})}onSaveClicked(){this.#e.updateSchoolYear(this.id,this.form.value.title).subscribe({next:e=>{e?this.#o.add({severity:"success",summary:"Saved!"}):this.#o.add({severity:"danger",summary:"An error occurred while saving"})}})}static#i=this.\u0275fac=function(o){return new(o||n)};static#a=this.\u0275cmp=t.Xpm({type:n,selectors:[["school-year-page"]],inputs:{id:"id"},standalone:!0,features:[t._Bn([l.YP,l.ez]),t.jDz],decls:10,vars:1,consts:[["pTemplate","header"],[3,"formGroup","ngSubmit"],[1,"p-fluid"],[1,"field"],["htmlFor","title"],["pInputText","","id","title","formControlName","title","placeholder","Enter a title"],["pTemplate","footer"],["key","cancel","confirmText","Yes, Delete","confirmStyleClass","p-button-danger","rejectText","No, Nevermind","appendTo","body"],[4,"ngIf","ngIfElse"],["create",""],[1,"flex","justify-content-end"],["createButtons",""],["styleClass","p-button-success","icon","pi pi-save","label","Save",3,"disabled","onClick",4,"ngIf"],["styleClass","p-button-danger ml-1","icon","pi pi-trash","label","Delete",3,"onClick"],["styleClass","p-button-success","icon","pi pi-save","label","Save",3,"disabled","onClick"],["styleClass","p-button-success","icon","pi pi-plus","label","Create",3,"disabled","onClick",4,"ngIf"],["styleClass","p-button-success","icon","pi pi-plus","label","Create",3,"disabled","onClick"]],template:function(o,s){1&o&&(t.TgZ(0,"p-card"),t.YNc(1,I,4,2,"ng-template",0),t.TgZ(2,"form",1),t.NdJ("ngSubmit",function(){return s.form.valid}),t.TgZ(3,"div",2)(4,"div",3)(5,"label",4),t._uU(6,"Title"),t.qZA(),t._UZ(7,"input",5),t.qZA()()(),t.YNc(8,Q,4,2,"ng-template",6),t.qZA(),t._UZ(9,"confirm-dialog",7)),2&o&&(t.xp6(2),t.Q6J("formGroup",s.form))},dependencies:[d.ez,d.O5,r.UX,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u,S.d,S.Z,l.jx,m.hJ,m.zx,b.j,b.o,Y],encapsulation:2})}return n})();function O(n,i){if(1&n&&(t.TgZ(0,"h1"),t._uU(1),t.qZA()),2&n){const e=t.oxw().ngIf;t.xp6(1),t.hij("Hello, ",e.name,"!")}}const K=n=>["school-year",n];function $(n,i){if(1&n&&(t.TgZ(0,"li")(1,"a",4),t._uU(2),t.qZA()()),2&n){const e=i.$implicit;t.xp6(1),t.Q6J("routerLink",t.VKq(2,K,e.id)),t.xp6(1),t.Oqu(e.title)}}function E(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",6)(1,"p-button",7),t.NdJ("onClick",function(){t.CHM(e);const s=t.oxw(2);return t.KtG(s.onResetStudentClicked())}),t.qZA()()}}const G=()=>["school-year"];function B(n,i){if(1&n&&(t.TgZ(0,"p-card"),t.YNc(1,O,2,1,"ng-template",2),t.TgZ(2,"ul"),t.YNc(3,$,3,4,"li",3),t.qZA(),t.TgZ(4,"a",4),t._uU(5,"Add school year"),t.qZA(),t.YNc(6,E,2,0,"ng-template",5),t.qZA()),2&n){const e=i.ngIf;t.xp6(3),t.Q6J("ngForOf",e.schoolYears),t.xp6(1),t.Q6J("routerLink",t.DdM(2,G))}}let H=(()=>{class n{constructor(){this.#e=(0,t.f3M)(T),this.#t=(0,t.f3M)(l.YP),this.#n=(0,t.f3M)(l.ez),this.#s=(0,t.f3M)(p.F0),this.#o=(0,t.f3M)(r.qu),this.student$=this.#e.watchStudent$()}#e;#t;#n;#s;#o;onResetStudentClicked(){this.#t.confirm({header:"Are you sure?",message:"Are you sure that you want to reset the student data?",key:"cancel",icon:"pi pi-trash",accept:()=>{this.#e.resetStudent(),this.#n.add({key:"global",summary:"Success!",detail:"Student has been reset",severity:"success"})}})}static#i=this.\u0275fac=function(o){return new(o||n)};static#a=this.\u0275cmp=t.Xpm({type:n,selectors:[["student-page"]],standalone:!0,features:[t._Bn([l.YP]),t.jDz],decls:3,vars:3,consts:[[4,"ngIf"],["key","cancel","confirmText","Yes, Reset","confirmStyleClass","p-button-danger","rejectText","No, Nevermind","appendTo","body"],["pTemplate","header"],[4,"ngFor","ngForOf"],[3,"routerLink"],["pTemplate","footer"],[1,"flex","justify-content-end"],["styleClass","p-button-danger","icon","pi pi-sync","label","Reset Student",3,"onClick"]],template:function(o,s){1&o&&(t.YNc(0,B,7,3,"p-card",0),t.ALo(1,"async"),t._UZ(2,"confirm-dialog",1)),2&o&&t.Q6J("ngIf",t.lcZ(1,1,s.student$))},dependencies:[d.ez,d.sg,d.O5,d.Ov,r.UX,p.Bz,p.rH,S.d,S.Z,l.jx,m.hJ,m.zx,b.j,Y],encapsulation:2})}return n})(),R=(()=>{class n{static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275mod=t.oAB({type:n});static#n=this.\u0275inj=t.cJS({imports:[p.Bz.forChild([{path:"",component:H},{path:"school-year",component:k},{path:"school-year/:id",component:k}]),p.Bz]})}return n})()},4552:(P,_,c)=>{c.d(_,{l:()=>p});const p={now:()=>(p.delegate||Date).now(),delegate:void 0}}}]);