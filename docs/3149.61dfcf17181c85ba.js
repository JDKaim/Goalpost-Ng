"use strict";(self.webpackChunkgoalpost_primeng=self.webpackChunkgoalpost_primeng||[]).push([[3149],{3149:(Pe,P,c)=>{c.r(P),c.d(P,{LeagueSiteRoutingModule:()=>be});var m=c(2129),p=c(6814),e=c(9467),d=c(707),u=c(4532);class E{constructor(r,t){this.plays=r,this.playerGame=t;const n=r.filter(o=>o.passer===this.playerGame.id),a=n.filter(o=>o.completedPass);this.passingAttempts=n.length,this.passingCompletions=a.length,this.passingYardage=a.map(o=>o.yardage).reduce((o,x)=>o+x,0),this.passingTds=a.filter(o=>6===o.points).length,this.passingOnePointConversions=a.filter(o=>1===o.points).length,this.passingTwoPointConversions=a.filter(o=>2===o.points).length,this.passingInterceptions=n.filter(o=>"interception"===o.turnoverType).length;const l=r.filter(o=>o.rusher===this.playerGame.id);this.rushingAttempts=l.length,this.rushingYardage=l.map(o=>o.yardage).reduce((o,x)=>o+x,0),this.rushingTds=l.filter(o=>6===o.points).length,this.rushingOnePointConversions=l.filter(o=>1===o.points).length,this.rushingTwoPointConversions=l.filter(o=>2===o.points).length,this.offensiveFumbles=l.filter(o=>"fumble"===o.turnoverType).length,this.offensiveSacks=l.filter(o=>o.sack).length;const k=r.filter(o=>o.receiver===this.playerGame.id),T=k.filter(o=>o.completedPass);this.receivingTargets=k.length,this.receivingCompletions=T.length,this.receivingYardage=T.map(o=>o.yardage).reduce((o,x)=>o+x,0),this.receivingTds=T.filter(o=>6===o.points).length,this.receivingOnePointConversions=T.filter(o=>1===o.points).length,this.receivingTwoPointConversions=T.filter(o=>2===o.points).length,this.offensiveFumbles+=T.filter(o=>"fumble"===o.turnoverType).length;const S=r.filter(o=>o.flagPuller===this.playerGame.id);this.flagPulls=S.length,this.defensiveSacks=S.filter(o=>o.sack).length;const v=r.filter(o=>o.turnoverPlayer===this.playerGame.id);this.defensiveFumbles=v.filter(o=>"fumble"===o.turnoverType).length,this.defensiveInterceptions=v.filter(o=>"interception"===o.turnoverType).length,this.defensiveTds=v.filter(o=>6===o.points).length,this.defensiveOnePointConversions=v.filter(o=>1===o.points).length,this.defensiveTwoPointConversions=v.filter(o=>2===o.points).length,this.pointsScored=6*(this.rushingTds+this.receivingTds+this.defensiveTds)+2*(this.rushingTwoPointConversions+this.receivingTwoPointConversions+this.defensiveTwoPointConversions)+this.rushingOnePointConversions+this.receivingOnePointConversions+this.defensiveOnePointConversions}}class J{constructor(r,t,n){this.plays=r,this.roster=t,this.teamId=n,this.playerStats=t.map(a=>new E(r,a)),this.score=this.playerStats.map(a=>a.pointsScored).reduce((a,l)=>a+l,0)}}class L{constructor(r){this.game=r,this.homeTeamStats=new J(r.plays,r.homeRoster,r.homeTeamId),this.awayTeamStats=new J(r.plays,r.awayRoster,r.awayTeamId)}}var b,F=c(7328),w=c(7398),y=c(2096);let h=(()=>{class i{static#t=this.LeagueStorageKey="league";#i=new F.t(1);#e;constructor(){this.#e=this.#a(),this.#i.next(this.#e),this.watchLeague$().subscribe({next:t=>this.#n(t)})}watchLeague$(){return this.#i.asObservable()}watchTeam$(t){return this.watchLeague$().pipe((0,w.U)(n=>n.teams.find(a=>a.id===t)))}watchPlayer$(t){return this.watchLeague$().pipe((0,w.U)(n=>n.players.find(a=>a.id===t)))}watchTeams$(){return this.watchLeague$().pipe((0,w.U)(t=>t.teams))}watchPlayers$(){return this.watchLeague$().pipe((0,w.U)(t=>t.players))}#n(t){localStorage.setItem(b.LeagueStorageKey,JSON.stringify(t))}resetLeague(){this.#e={teams:[{name:"Washington",id:"WASH"},{name:"Oregon",id:"ORE"}],players:[{name:"Michael Penix, Jr.",id:"009"},{name:"Bo Nix",id:"010"}]},this.#n(this.#e)}#a(){const t=localStorage.getItem(b.LeagueStorageKey);try{if(this.#e=JSON.parse(t),this.#e)return this.#e}catch{}return this.resetLeague(),this.#e}createTeam(t){if(t.id=t.id.trim(),t.name=t.name.trim(),!t.id||!t.name)throw new Error("Team must have ID and name.");if(this.#e.teams.find(n=>n.name===t.name))throw new Error("Team name already exists.");if(this.#e.teams.find(n=>n.id===t.id))throw new Error("Team ID already exists.");return this.#e.teams.push({...t}),this.#i.next(this.#e),(0,y.of)(t)}createPlayer(t){if(t.id=t.id.trim(),t.name=t.name.trim(),!t.id||!t.name)throw new Error("Player must have ID and name.");if(this.#e.players.find(n=>n.name===t.name))throw new Error("Player name already exists.");if(this.#e.players.find(n=>n.id===t.id))throw new Error("Player ID already exists.");return this.#e.players.push({...t}),this.#i.next(this.#e),(0,y.of)(t)}editTeam(t,n){n.id=n.id.trim(),n.name=n.name.trim();const a=this.#e.teams.find(l=>l.id===t);if(!a)throw new Error("Team being edited does not exist.");if(a.name!=n.name&&this.#e.teams.some(l=>l.name===n.name))throw new Error("Team name already exists.");if(a.id!=n.id&&this.#e.teams.some(l=>l.id===n.id))throw new Error("Team ID already exists.");return a.id=n.id,a.name=n.name,this.#i.next(this.#e),(0,y.of)(a)}editPlayer(t,n){n.id=n.id.trim(),n.name=n.name.trim();const a=this.#e.players.find(l=>l.id===t);if(!a)throw new Error("Player being edited does not exist.");if(a.name!=n.name&&this.#e.players.some(l=>l.name===n.name))throw new Error("Player name already exists.");return a.name=n.name,this.#i.next(this.#e),(0,y.of)(a)}deleteTeam(t){return this.#e.teams=this.#e.teams.filter(n=>n.id!=t),this.#i.next(this.#e),(0,y.of)(!0)}deletePlayer(t){return this.#e.players=this.#e.players.filter(n=>n.id!=t),this.#i.next(this.#e),(0,y.of)(!0)}static#o=this.\u0275fac=function(n){return new(n||i)};static#r=this.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function $(i,r){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.HOy(" ",t.playerGame.id," - ",t.passingCompletions,"/",t.passingAttempts," for ",t.passingYardage," yards ")}}b=h;const q=i=>["/","teams",i];function I(i,r){if(1&i&&(e.TgZ(0,"li")(1,"a",0),e._uU(2),e.qZA()()),2&i){const t=r.$implicit;e.xp6(1),e.Q6J("routerLink",e.VKq(2,q,t.id)),e.xp6(1),e.Oqu(t.name)}}function N(i,r){1&i&&(e.TgZ(0,"ul"),e.SjG(1,I,3,4,"li",null,e.ikw),e.qZA()),2&i&&(e.xp6(1),e.wJu(r.teams))}let j=(()=>{class i{#t;constructor(){this.#t=(0,e.f3M)(h),this.league$=this.#t.watchLeague$(),this.gameStats=new L({id:"001",homeTeamId:"01",awayTeamId:"02",homeRoster:[{id:"jd",jersey:"21"},{id:"tommy",jersey:"69"}],awayRoster:[{id:"layla",jersey:"99"}],startTime:0,location:"Lumen Field",status:"Finished",homeScore:0,awayScore:0,plays:[{id:"01",index:0,down:1,distanceToGo:10,yardLine:25,yardage:6,type:"passing",offensiveTeamId:"01",defensiveTeamId:"02",completedPass:!0,earnedFirstDown:!1,points:0,sack:!1,passer:"jd",receiver:"tommy",flagPuller:"layla"}]})}static#i=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275cmp=e.Xpm({type:i,selectors:[["home-page"]],standalone:!0,features:[e.jDz],decls:6,vars:3,consts:[[3,"routerLink"]],template:function(n,a){if(1&n&&(e.TgZ(0,"h1"),e._uU(1,"Home Page"),e.qZA(),e.SjG(2,$,2,4,"div",null,e.ikw),e.YNc(4,N,3,0,"ul"),e.ALo(5,"async")),2&n){let l;e.xp6(2),e.wJu(a.gameStats.homeTeamStats.playerStats),e.xp6(2),e.um2(4,(l=e.lcZ(5,1,a.league$))?4:-1,l)}},dependencies:[p.ez,p.Ov,m.Bz,m.rH,u.d,d.hJ],encapsulation:2})}return i})();var C=c(5592);let U=(()=>{class i{transform(t){return`${t.id} - ${t.name}`}static#t=this.\u0275fac=function(n){return new(n||i)};static#i=this.\u0275pipe=e.Yjl({name:"team",type:i,pure:!0,standalone:!0})}return i})();const M=i=>["/","edit-team",i];function G(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"h1"),e._uU(1),e.ALo(2,"team"),e.qZA(),e.TgZ(3,"div",0),e._UZ(4,"p-button",1),e.TgZ(5,"p-button",2),e.NdJ("onClick",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.deleteTeam())}),e.qZA()()}2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,2,r)),e.xp6(3),e.Q6J("routerLink",e.VKq(4,M,r.id)))}function z(i,r){1&i&&(e.TgZ(0,"h1"),e._uU(1,"Team is not found."),e.qZA())}let Q=(()=>{class i{constructor(){this.#t=(0,e.f3M)(h),this.#i=(0,e.f3M)(m.F0),this.team$=new C.y}#t;#i;ngOnInit(){this.team$=this.#t.watchTeam$(this.id)}deleteTeam(){this.#t.deleteTeam(this.id).subscribe({next:()=>this.#i.navigate(["/"])})}static#e=this.\u0275fac=function(n){return new(n||i)};static#n=this.\u0275cmp=e.Xpm({type:i,selectors:[["view-team"]],inputs:{id:"id"},standalone:!0,features:[e.jDz],decls:3,vars:3,consts:[[1,"flex","justify-content-end","gap-2"],["label","Edit Team","icon","pi pi-pencil","severity","primary",3,"routerLink"],["label","Delete Team","icon","pi pi-times","severity","danger",3,"onClick"]],template:function(n,a){if(1&n&&(e.YNc(0,G,6,6),e.ALo(1,"async"),e.YNc(2,z,2,0)),2&n){let l;e.um2(0,(l=e.lcZ(1,1,a.team$))?0:2,l)}},dependencies:[p.ez,p.Ov,m.Bz,m.rH,u.d,d.hJ,d.zx,U],encapsulation:2})}return i})();var s=c(95),f=c(3714),_=c(9502),g=c(3259),Z=c(5219);function D(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"p-messages",12),e.NdJ("valueChange",function(a){e.CHM(t);const l=e.oxw();return e.KtG(l.errors=a)}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("value",t.errors)("enableService",!1)}}const O=()=>["/"];function H(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div",13)(1,"p-button",14),e.NdJ("onClick",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.createTeamClicked())}),e.qZA(),e._UZ(2,"p-button",15),e.qZA()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("disabled",!t.form.valid||!t.form.dirty),e.xp6(1),e.Q6J("routerLink",e.DdM(2,O))}}const V=i=>["/","teams",i];function Y(i,r){if(1&i&&(e.TgZ(0,"li")(1,"a",16),e._uU(2),e.qZA()()),2&i){const t=r.$implicit;e.xp6(1),e.Q6J("routerLink",e.VKq(3,V,t.id)),e.xp6(1),e.AsE("",t.id," - ",t.name,"")}}function K(i,r){1&i&&(e.TgZ(0,"ul"),e.SjG(1,Y,3,5,"li",null,e.ikw),e.qZA()),2&i&&(e.xp6(1),e.wJu(r))}let B=(()=>{class i{constructor(){this.#t=(0,e.f3M)(h),this.#i=(0,e.f3M)(m.F0),this.#e=(0,e.f3M)(s.qu),this.form=this.#e.group({id:this.#e.nonNullable.control("",[s.kI.required,s.kI.minLength(2),s.kI.maxLength(4)]),name:this.#e.nonNullable.control("",[s.kI.required,s.kI.minLength(4),s.kI.maxLength(25)])}),this.teams$=this.#t.watchTeams$(),this.errors=new Array}#t;#i;#e;createTeamClicked(){if(!this.form.valid)throw new Error("Form is not valid.");const t=this.form.value;this.errors=[];try{this.#t.createTeam({id:t.id,name:t.name}).subscribe({})}catch(n){this.errors.push({severity:"error",summary:"Error",detail:n.message})}}static#n=this.\u0275fac=function(n){return new(n||i)};static#a=this.\u0275cmp=e.Xpm({type:i,selectors:[["create-team"]],standalone:!0,features:[e.jDz],decls:17,vars:7,consts:[[1,"flex","gap-3"],["header","Create Team",1,"w-30rem"],[3,"formGroup","ngSubmit"],[1,"p-fluid"],[1,"field"],["htmlFor","id"],["pInputText","","id","id","formControlName","id","placeholder","Enter an ID","pTooltip","2-4 characters","tooltipPosition","bottom",3,"maxlength"],["htmlFor","name"],["pInputText","","id","name","formControlName","name","placeholder","Enter a name","pTooltip","4-25 characters","tooltipPosition","bottom",3,"maxlength"],[3,"value","enableService"],["pTemplate","footer"],["header","Current Teams",1,"w-15rem"],[3,"value","enableService","valueChange"],[1,"flex","justify-content-end"],["label","Save","icon","pi pi-check","severity","success",3,"disabled","onClick"],["label","Cancel","icon","pi pi-times","severity","danger",1,"ml-2",3,"routerLink"],[3,"routerLink"]],template:function(n,a){if(1&n&&(e.TgZ(0,"div",0)(1,"p-card",1)(2,"form",2),e.NdJ("ngSubmit",function(){return a.form.valid}),e.TgZ(3,"div",3)(4,"div",4)(5,"label",5),e._uU(6,"ID"),e.qZA(),e._UZ(7,"input",6),e.qZA(),e.TgZ(8,"div",4)(9,"label",7),e._uU(10,"Name"),e.qZA(),e._UZ(11,"input",8),e.qZA()()(),e.YNc(12,D,1,2,"p-messages",9)(13,H,3,3,"ng-template",10),e.qZA(),e.TgZ(14,"p-card",11),e.YNc(15,K,3,0,"ul"),e.ALo(16,"async"),e.qZA()()),2&n){let l;e.xp6(2),e.Q6J("formGroup",a.form),e.xp6(5),e.Q6J("maxlength",4),e.xp6(4),e.Q6J("maxlength",25),e.xp6(1),e.um2(12,a.errors.length?12:-1),e.xp6(3),e.um2(15,(l=e.lcZ(16,5,a.teams$))?15:-1,l)}},dependencies:[p.ez,p.Ov,m.Bz,m.rH,u.d,u.Z,Z.jx,d.hJ,d.zx,s.UX,s._Y,s.Fj,s.JJ,s.JL,s.nD,s.sg,s.u,f.j,f.o,_.$,_.V,g.z,g.u],encapsulation:2})}return i})();var A=c(9397);function X(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"p-messages",13),e.NdJ("valueChange",function(a){e.CHM(t);const l=e.oxw(2);return e.KtG(l.errors=a)}),e.qZA()}if(2&i){const t=e.oxw(2);e.Q6J("value",t.errors)("enableService",!1)}}const R=()=>["/"];function W(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div",14)(1,"p-button",15),e.NdJ("onClick",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.editTeamClicked())}),e.qZA(),e._UZ(2,"p-button",16),e.qZA()}if(2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("disabled",!t.form.valid||!t.form.dirty),e.xp6(1),e.Q6J("routerLink",e.DdM(2,R))}}const ee=i=>["/","teams",i];function te(i,r){if(1&i&&(e.TgZ(0,"li")(1,"a",17),e._uU(2),e.qZA()()),2&i){const t=r.$implicit;e.xp6(1),e.Q6J("routerLink",e.VKq(3,ee,t.id)),e.xp6(1),e.AsE("",t.id," - ",t.name,"")}}function ie(i,r){1&i&&(e.TgZ(0,"ul"),e.SjG(1,te,3,5,"li",null,e.ikw),e.qZA()),2&i&&(e.xp6(1),e.wJu(r))}function ne(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div",1)(1,"p-card",2)(2,"form",3),e.NdJ("ngSubmit",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.form.valid)}),e.TgZ(3,"div",4)(4,"div",5)(5,"label",6),e._uU(6,"ID"),e.qZA(),e._UZ(7,"input",7),e.qZA(),e.TgZ(8,"div",5)(9,"label",8),e._uU(10,"Name"),e.qZA(),e._UZ(11,"input",9),e.qZA()()(),e.YNc(12,X,1,2,"p-messages",10)(13,W,3,3,"ng-template",11),e.qZA(),e.TgZ(14,"p-card",12),e.YNc(15,ie,3,0,"ul"),e.ALo(16,"async"),e.qZA()()}if(2&i){const t=e.oxw();let n;e.xp6(1),e.Q6J("header","Edit Team - "+r.id),e.xp6(1),e.Q6J("formGroup",t.form),e.xp6(5),e.Q6J("maxlength",4),e.xp6(4),e.Q6J("maxlength",25),e.xp6(1),e.um2(12,t.errors.length?12:-1),e.xp6(3),e.um2(15,(n=e.lcZ(16,6,t.teams$))?15:-1,n)}}let ae=(()=>{class i{constructor(){this.#t=(0,e.f3M)(h),this.#i=(0,e.f3M)(m.F0),this.#e=(0,e.f3M)(s.qu),this.form=this.#e.group({id:this.#e.nonNullable.control("",[s.kI.required,s.kI.minLength(2),s.kI.maxLength(4)]),name:this.#e.nonNullable.control("",[s.kI.required,s.kI.minLength(4),s.kI.maxLength(25)])}),this.teams$=this.#t.watchTeams$(),this.errors=new Array,this.team$=new C.y}#t;#i;#e;ngOnInit(){this.team$=this.#t.watchTeam$(this.id).pipe((0,A.b)(t=>{t&&(this.form.controls.id.setValue(t.id),this.form.controls.name.setValue(t.name))}))}editTeamClicked(){if(!this.form.valid)throw new Error("Form is not valid.");const t=this.form.value;this.errors=[];try{this.#t.editTeam(this.id,{id:t.id,name:t.name}).subscribe({next:n=>this.#i.navigate(["/","teams",n.id])})}catch(n){this.errors.push({severity:"error",summary:"Error",detail:n.message})}}static#n=this.\u0275fac=function(n){return new(n||i)};static#a=this.\u0275cmp=e.Xpm({type:i,selectors:[["edit-team"]],inputs:{id:"id"},standalone:!0,features:[e.jDz],decls:2,vars:3,consts:[["class","flex gap-3"],[1,"flex","gap-3"],[1,"w-30rem",3,"header"],[3,"formGroup","ngSubmit"],[1,"p-fluid"],[1,"field"],["htmlFor","id"],["pInputText","","id","id","formControlName","id","placeholder","Enter an ID","pTooltip","2-4 characters","tooltipPosition","bottom",3,"maxlength"],["htmlFor","name"],["pInputText","","id","name","formControlName","name","placeholder","Enter a name","pTooltip","4-25 characters","tooltipPosition","bottom",3,"maxlength"],[3,"value","enableService"],["pTemplate","footer"],["header","Current Teams",1,"w-15rem"],[3,"value","enableService","valueChange"],[1,"flex","justify-content-end"],["label","Save","icon","pi pi-check","severity","success",3,"disabled","onClick"],["label","Cancel","icon","pi pi-times","severity","danger",1,"ml-2",3,"routerLink"],[3,"routerLink"]],template:function(n,a){if(1&n&&(e.YNc(0,ne,17,8,"div",0),e.ALo(1,"async")),2&n){let l;e.um2(0,(l=e.lcZ(1,1,a.team$))?0:-1,l)}},dependencies:[p.ez,p.Ov,m.Bz,m.rH,u.d,u.Z,Z.jx,d.hJ,d.zx,s.UX,s._Y,s.Fj,s.JJ,s.JL,s.nD,s.sg,s.u,f.j,f.o,_.$,_.V,g.z,g.u],encapsulation:2})}return i})();function oe(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"p-messages",12),e.NdJ("valueChange",function(a){e.CHM(t);const l=e.oxw();return e.KtG(l.errors=a)}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("value",t.errors)("enableService",!1)}}const re=()=>["/"];function se(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div",13)(1,"p-button",14),e.NdJ("onClick",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.createPlayerClicked())}),e.qZA(),e._UZ(2,"p-button",15),e.qZA()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("disabled",!t.form.valid||!t.form.dirty),e.xp6(1),e.Q6J("routerLink",e.DdM(2,re))}}const le=i=>["/","players",i];function me(i,r){if(1&i&&(e.TgZ(0,"li")(1,"a",16),e._uU(2),e.qZA()()),2&i){const t=r.$implicit;e.xp6(1),e.Q6J("routerLink",e.VKq(2,le,t.id)),e.xp6(1),e.Oqu(t.name)}}function ce(i,r){1&i&&(e.TgZ(0,"ul"),e.SjG(1,me,3,4,"li",null,e.ikw),e.qZA()),2&i&&(e.xp6(1),e.wJu(r))}let pe=(()=>{class i{constructor(){this.#t=(0,e.f3M)(h),this.#i=(0,e.f3M)(m.F0),this.#e=(0,e.f3M)(s.qu),this.form=this.#e.group({id:this.#e.nonNullable.control("",[s.kI.required,s.kI.minLength(2),s.kI.maxLength(4)]),name:this.#e.nonNullable.control("",[s.kI.required,s.kI.minLength(4),s.kI.maxLength(25)])}),this.teams$=this.#t.watchTeams$(),this.players$=this.#t.watchPlayers$(),this.errors=new Array}#t;#i;#e;createPlayerClicked(){if(!this.form.valid)throw new Error("Form is not valid.");const t=this.form.value;this.errors=[];try{this.#t.createPlayer({id:t.id,name:t.name}).subscribe({})}catch(n){this.errors.push({severity:"error",summary:"Error",detail:n.message})}}static#n=this.\u0275fac=function(n){return new(n||i)};static#a=this.\u0275cmp=e.Xpm({type:i,selectors:[["create-player"]],standalone:!0,features:[e.jDz],decls:17,vars:7,consts:[[1,"flex","gap-3"],["header","Create Player",1,"w-30rem"],[3,"formGroup","ngSubmit"],[1,"p-fluid"],[1,"field"],["htmlFor","id"],["pInputText","","id","id","formControlName","id","placeholder","Enter an ID","pTooltip","2-4 characters","tooltipPosition","bottom",3,"maxlength"],["htmlFor","name"],["pInputText","","id","name","formControlName","name","placeholder","Enter a name","pTooltip","4-25 characters","tooltipPosition","bottom",3,"maxlength"],[3,"value","enableService"],["pTemplate","footer"],["header","Current Players",1,"w-15rem"],[3,"value","enableService","valueChange"],[1,"flex","justify-content-end"],["label","Save","icon","pi pi-check","severity","success",3,"disabled","onClick"],["label","Cancel","icon","pi pi-times","severity","danger",1,"ml-2",3,"routerLink"],[3,"routerLink"]],template:function(n,a){if(1&n&&(e.TgZ(0,"div",0)(1,"p-card",1)(2,"form",2),e.NdJ("ngSubmit",function(){return a.form.valid}),e.TgZ(3,"div",3)(4,"div",4)(5,"label",5),e._uU(6,"ID"),e.qZA(),e._UZ(7,"input",6),e.qZA(),e.TgZ(8,"div",4)(9,"label",7),e._uU(10,"Name"),e.qZA(),e._UZ(11,"input",8),e.qZA()()(),e.YNc(12,oe,1,2,"p-messages",9)(13,se,3,3,"ng-template",10),e.qZA(),e.TgZ(14,"p-card",11),e.YNc(15,ce,3,0,"ul"),e.ALo(16,"async"),e.qZA()()),2&n){let l;e.xp6(2),e.Q6J("formGroup",a.form),e.xp6(5),e.Q6J("maxlength",4),e.xp6(4),e.Q6J("maxlength",25),e.xp6(1),e.um2(12,a.errors.length?12:-1),e.xp6(3),e.um2(15,(l=e.lcZ(16,5,a.players$))?15:-1,l)}},dependencies:[p.ez,p.Ov,m.Bz,m.rH,u.d,u.Z,Z.jx,d.hJ,d.zx,s.UX,s._Y,s.Fj,s.JJ,s.JL,s.nD,s.sg,s.u,f.j,f.o,_.$,_.V,g.z,g.u],encapsulation:2})}return i})(),de=(()=>{class i{transform(t){return`${t.name}`}static#t=this.\u0275fac=function(n){return new(n||i)};static#i=this.\u0275pipe=e.Yjl({name:"player",type:i,pure:!0,standalone:!0})}return i})();const ue=i=>["/","edit-player",i];function he(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"h1"),e._uU(1),e.ALo(2,"player"),e.qZA(),e.TgZ(3,"div",0),e._UZ(4,"p-button",1),e.TgZ(5,"p-button",2),e.NdJ("onClick",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.deletePlayer())}),e.qZA()()}2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,2,r)),e.xp6(3),e.Q6J("routerLink",e.VKq(4,ue,r.id)))}function fe(i,r){1&i&&(e.TgZ(0,"h1"),e._uU(1,"Team is not found."),e.qZA())}let _e=(()=>{class i{constructor(){this.#t=(0,e.f3M)(h),this.#i=(0,e.f3M)(m.F0),this.team$=new C.y,this.player$=new C.y}#t;#i;ngOnInit(){this.player$=this.#t.watchPlayer$(this.id)}deletePlayer(){this.#t.deletePlayer(this.id).subscribe({next:()=>this.#i.navigate(["/"])})}static#e=this.\u0275fac=function(n){return new(n||i)};static#n=this.\u0275cmp=e.Xpm({type:i,selectors:[["view-player"]],inputs:{id:"id"},standalone:!0,features:[e.jDz],decls:3,vars:3,consts:[[1,"flex","justify-content-end","gap-2"],["label","Edit Player","icon","pi pi-pencil","severity","primary",3,"routerLink"],["label","Delete Player","icon","pi pi-times","severity","danger",3,"onClick"]],template:function(n,a){if(1&n&&(e.YNc(0,he,6,6),e.ALo(1,"async"),e.YNc(2,fe,2,0)),2&n){let l;e.um2(0,(l=e.lcZ(1,1,a.player$))?0:2,l)}},dependencies:[p.ez,p.Ov,m.Bz,m.rH,u.d,d.hJ,d.zx,de],encapsulation:2})}return i})();function ge(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"p-messages",11),e.NdJ("valueChange",function(a){e.CHM(t);const l=e.oxw(2);return e.KtG(l.errors=a)}),e.qZA()}if(2&i){const t=e.oxw(2);e.Q6J("value",t.errors)("enableService",!1)}}const ye=()=>["/"];function Ce(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div",12)(1,"p-button",13),e.NdJ("onClick",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.editPlayerClicked())}),e.qZA(),e._UZ(2,"p-button",14),e.qZA()}if(2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("disabled",!t.form.valid||!t.form.dirty),e.xp6(1),e.Q6J("routerLink",e.DdM(2,ye))}}const Te=i=>["/","players",i];function ve(i,r){if(1&i&&(e.TgZ(0,"li")(1,"a",15),e._uU(2),e.qZA()()),2&i){const t=r.$implicit;e.xp6(1),e.Q6J("routerLink",e.VKq(2,Te,t.id)),e.xp6(1),e.Oqu(t.name)}}function xe(i,r){1&i&&(e.TgZ(0,"ul"),e.SjG(1,ve,3,4,"li",null,e.ikw),e.qZA()),2&i&&(e.xp6(1),e.wJu(r))}function we(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div",1)(1,"p-card",2)(2,"form",3),e.NdJ("ngSubmit",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.form.valid)}),e.TgZ(3,"div",4)(4,"div",5)(5,"label",6),e._uU(6,"Name"),e.qZA(),e._UZ(7,"input",7),e.qZA()()(),e.YNc(8,ge,1,2,"p-messages",8)(9,Ce,3,3,"ng-template",9),e.qZA(),e.TgZ(10,"p-card",10),e.YNc(11,xe,3,0,"ul"),e.ALo(12,"async"),e.qZA()()}if(2&i){const t=e.oxw();let n;e.xp6(1),e.Q6J("header","Edit Player - "+r.id),e.xp6(1),e.Q6J("formGroup",t.form),e.xp6(5),e.Q6J("maxlength",25),e.xp6(1),e.um2(8,t.errors.length?8:-1),e.xp6(3),e.um2(11,(n=e.lcZ(12,5,t.players$))?11:-1,n)}}let Ze=(()=>{class i{constructor(){this.#t=(0,e.f3M)(h),this.#i=(0,e.f3M)(m.F0),this.#e=(0,e.f3M)(s.qu),this.form=this.#e.group({name:this.#e.nonNullable.control("",[s.kI.required,s.kI.minLength(4),s.kI.maxLength(25)])}),this.teams$=this.#t.watchTeams$(),this.players$=this.#t.watchPlayers$(),this.errors=new Array,this.team$=new C.y,this.player$=new C.y}#t;#i;#e;ngOnInit(){this.player$=this.#t.watchPlayer$(this.id).pipe((0,A.b)(t=>{t&&this.form.controls.name.setValue(t.name)}))}editPlayerClicked(){if(!this.form.valid)throw new Error("Form is not valid.");const t=this.form.value;this.errors=[];try{this.#t.editPlayer(this.id,{id:this.id,name:t.name}).subscribe({next:n=>this.#i.navigate(["/","players",this.id])})}catch(n){this.errors.push({severity:"error",summary:"Error",detail:n.message})}}static#n=this.\u0275fac=function(n){return new(n||i)};static#a=this.\u0275cmp=e.Xpm({type:i,selectors:[["edit-player"]],inputs:{id:"id"},standalone:!0,features:[e.jDz],decls:2,vars:3,consts:[["class","flex gap-3"],[1,"flex","gap-3"],[1,"w-30rem",3,"header"],[3,"formGroup","ngSubmit"],[1,"p-fluid"],[1,"field"],["htmlFor","name"],["pInputText","","id","name","formControlName","name","placeholder","Enter a name","pTooltip","4-25 characters","tooltipPosition","bottom",3,"maxlength"],[3,"value","enableService"],["pTemplate","footer"],["header","Current Players",1,"w-15rem"],[3,"value","enableService","valueChange"],[1,"flex","justify-content-end"],["label","Save","icon","pi pi-check","severity","success",3,"disabled","onClick"],["label","Cancel","icon","pi pi-times","severity","danger",1,"ml-2",3,"routerLink"],[3,"routerLink"]],template:function(n,a){if(1&n&&(e.YNc(0,we,13,7,"div",0),e.ALo(1,"async")),2&n){let l;e.um2(0,(l=e.lcZ(1,1,a.player$))?0:-1,l)}},dependencies:[p.ez,p.Ov,m.Bz,m.rH,u.d,u.Z,Z.jx,d.hJ,d.zx,s.UX,s._Y,s.Fj,s.JJ,s.JL,s.nD,s.sg,s.u,f.j,f.o,_.$,_.V,g.z,g.u],encapsulation:2})}return i})(),be=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#i=this.\u0275mod=e.oAB({type:i});static#e=this.\u0275inj=e.cJS({imports:[m.Bz.forChild([{path:"",component:j},{path:"teams/:id",component:Q},{path:"players/:id",component:_e},{path:"create-team",component:B},{path:"create-player",component:pe},{path:"edit-team/:id",component:ae},{path:"edit-player/:id",component:Ze}]),m.Bz]})}return i})()}}]);